(function(){var e={6700:function(e,t,a){var o={"./af":2398,"./af.js":2398,"./ar":4207,"./ar-dz":3382,"./ar-dz.js":3382,"./ar-kw":6525,"./ar-kw.js":6525,"./ar-ly":7098,"./ar-ly.js":7098,"./ar-ma":6483,"./ar-ma.js":6483,"./ar-sa":3961,"./ar-sa.js":3961,"./ar-tn":7401,"./ar-tn.js":7401,"./ar.js":4207,"./az":903,"./az.js":903,"./be":1174,"./be.js":1174,"./bg":4615,"./bg.js":4615,"./bm":225,"./bm.js":225,"./bn":9751,"./bn-bd":544,"./bn-bd.js":544,"./bn.js":9751,"./bo":6894,"./bo.js":6894,"./br":8566,"./br.js":8566,"./bs":959,"./bs.js":959,"./ca":2683,"./ca.js":2683,"./cs":4231,"./cs.js":4231,"./cv":999,"./cv.js":999,"./cy":4302,"./cy.js":4302,"./da":3601,"./da.js":3601,"./de":5509,"./de-at":2479,"./de-at.js":2479,"./de-ch":5948,"./de-ch.js":5948,"./de.js":5509,"./dv":9838,"./dv.js":9838,"./el":5113,"./el.js":5113,"./en-au":7377,"./en-au.js":7377,"./en-ca":9626,"./en-ca.js":9626,"./en-gb":5912,"./en-gb.js":5912,"./en-ie":2931,"./en-ie.js":2931,"./en-il":2243,"./en-il.js":2243,"./en-in":9779,"./en-in.js":9779,"./en-nz":9813,"./en-nz.js":9813,"./en-sg":4318,"./en-sg.js":4318,"./eo":4957,"./eo.js":4957,"./es":9243,"./es-do":7409,"./es-do.js":7409,"./es-mx":5188,"./es-mx.js":5188,"./es-us":6927,"./es-us.js":6927,"./es.js":9243,"./et":7731,"./et.js":7731,"./eu":1072,"./eu.js":1072,"./fa":9462,"./fa.js":9462,"./fi":3368,"./fi.js":3368,"./fil":3626,"./fil.js":3626,"./fo":6421,"./fo.js":6421,"./fr":974,"./fr-ca":7780,"./fr-ca.js":7780,"./fr-ch":9719,"./fr-ch.js":9719,"./fr.js":974,"./fy":8373,"./fy.js":8373,"./ga":3861,"./ga.js":3861,"./gd":4896,"./gd.js":4896,"./gl":739,"./gl.js":739,"./gom-deva":6737,"./gom-deva.js":6737,"./gom-latn":1979,"./gom-latn.js":1979,"./gu":2001,"./gu.js":2001,"./he":9671,"./he.js":9671,"./hi":2038,"./hi.js":2038,"./hr":1228,"./hr.js":1228,"./hu":87,"./hu.js":87,"./hy-am":3569,"./hy-am.js":3569,"./id":1977,"./id.js":1977,"./is":6853,"./is.js":6853,"./it":7859,"./it-ch":5626,"./it-ch.js":5626,"./it.js":7859,"./ja":4123,"./ja.js":4123,"./jv":6457,"./jv.js":6457,"./ka":638,"./ka.js":638,"./kk":6823,"./kk.js":6823,"./km":9493,"./km.js":9493,"./kn":1288,"./kn.js":1288,"./ko":9663,"./ko.js":9663,"./ku":805,"./ku.js":805,"./ky":7550,"./ky.js":7550,"./lb":6272,"./lb.js":6272,"./lo":9135,"./lo.js":9135,"./lt":1452,"./lt.js":1452,"./lv":5782,"./lv.js":5782,"./me":2181,"./me.js":2181,"./mi":258,"./mi.js":258,"./mk":5715,"./mk.js":5715,"./ml":538,"./ml.js":538,"./mn":3086,"./mn.js":3086,"./mr":5663,"./mr.js":5663,"./ms":5100,"./ms-my":2663,"./ms-my.js":2663,"./ms.js":5100,"./mt":880,"./mt.js":880,"./my":9099,"./my.js":9099,"./nb":8709,"./nb.js":8709,"./ne":2201,"./ne.js":2201,"./nl":1016,"./nl-be":1681,"./nl-be.js":1681,"./nl.js":1016,"./nn":5330,"./nn.js":5330,"./oc-lnc":7132,"./oc-lnc.js":7132,"./pa-in":251,"./pa-in.js":251,"./pl":3948,"./pl.js":3948,"./pt":9836,"./pt-br":8831,"./pt-br.js":8831,"./pt.js":9836,"./ro":8443,"./ro.js":8443,"./ru":4,"./ru.js":4,"./sd":4510,"./sd.js":4510,"./se":3148,"./se.js":3148,"./si":542,"./si.js":542,"./sk":7637,"./sk.js":7637,"./sl":5852,"./sl.js":5852,"./sq":611,"./sq.js":611,"./sr":242,"./sr-cyrl":302,"./sr-cyrl.js":302,"./sr.js":242,"./ss":1367,"./ss.js":1367,"./sv":2927,"./sv.js":2927,"./sw":5240,"./sw.js":5240,"./ta":2692,"./ta.js":2692,"./te":2132,"./te.js":2132,"./tet":8300,"./tet.js":8300,"./tg":7211,"./tg.js":7211,"./th":4050,"./th.js":4050,"./tk":3849,"./tk.js":3849,"./tl-ph":3964,"./tl-ph.js":3964,"./tlh":3650,"./tlh.js":3650,"./tr":4195,"./tr.js":4195,"./tzl":5529,"./tzl.js":5529,"./tzm":7520,"./tzm-latn":298,"./tzm-latn.js":298,"./tzm.js":7520,"./ug-cn":4134,"./ug-cn.js":4134,"./uk":5456,"./uk.js":5456,"./ur":5679,"./ur.js":5679,"./uz":9277,"./uz-latn":6446,"./uz-latn.js":6446,"./uz.js":9277,"./vi":3992,"./vi.js":3992,"./x-pseudo":8882,"./x-pseudo.js":8882,"./yo":2899,"./yo.js":2899,"./zh-cn":4017,"./zh-cn.js":4017,"./zh-hk":4831,"./zh-hk.js":4831,"./zh-mo":2881,"./zh-mo.js":2881,"./zh-tw":57,"./zh-tw.js":57};function r(e){var t=s(e);return a(t)}function s(e){if(!a.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}r.keys=function(){return Object.keys(o)},r.resolve=s,e.exports=r,r.id=6700},6886:function(e,t,a){"use strict";var o=a(8935),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[e.logeado?e._e():a("inicio-sesion",{on:{login:e.onLogin}}),e.logeado?a("div",[a("encabezado-component"),a("div",{staticClass:"container"},[a("router-view")],1)],1):e._e()],1)},s=[],n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("b-navbar",{staticClass:"fondo",attrs:{type:"is-warning"},scopedSlots:e._u([{key:"brand",fn:function(){return[o("b-navbar-item",{attrs:{tag:"router-link",to:{path:"/"}}},[o("img",{attrs:{src:a(6949)}})])]},proxy:!0},{key:"start",fn:function(){return[o("b-navbar-item",{attrs:{tag:"router-link",to:{path:"/"}}},[o("b-icon",{attrs:{icon:"view-dashboard",size:"is-medium"}}),o("span"),e._v(" Inicio ")],1),o("b-navbar-item",{attrs:{tag:"router-link",to:{path:"/inventario"}}},[o("b-icon",{attrs:{icon:"chart-bar-stacked",size:"is-medium"}}),o("span"),e._v(" Inventario ")],1),o("b-navbar-item",{attrs:{tag:"router-link",to:{path:"/marcas-y-categorias"}}},[o("b-icon",{attrs:{icon:"archive",size:"is-medium"}}),o("span"),e._v(" Marcas y categorías ")],1),o("b-navbar-item",{attrs:{tag:"router-link",to:{path:"/realizar-venta"}}},[o("b-icon",{attrs:{icon:"cash-fast",size:"is-medium"}}),o("span"),e._v(" Vender ")],1),o("b-navbar-item",[o("b-icon",{staticClass:"is-pulled-left",attrs:{icon:"file-chart-outline",size:"is-medium"}}),o("b-navbar-dropdown",{attrs:{label:"Reportes",icon:"home"}},[o("b-navbar-item",{attrs:{tag:"router-link",to:{path:"/reporte-ventas"}}},[o("b-icon",{attrs:{icon:"cash-register"}}),o("span"),e._v(" Ventas ")],1),o("b-navbar-item",{attrs:{tag:"router-link",to:{path:"/reporte-cuentas"}}},[o("b-icon",{attrs:{icon:"wallet"}}),o("span"),e._v(" Cuentas ")],1),o("b-navbar-item",{attrs:{tag:"router-link",to:{path:"/reporte-apartados"}}},[o("b-icon",{attrs:{icon:"wallet-travel"}}),o("span"),e._v(" Apartados ")],1),o("b-navbar-item",{attrs:{tag:"router-link",to:{path:"/reporte-cotizaciones"}}},[o("b-icon",{attrs:{icon:"ticket-outline"}}),o("span"),e._v(" Cotizaciones ")],1)],1)],1),o("b-navbar-item",{attrs:{tag:"router-link",to:{path:"/usuarios"}}},[o("b-icon",{attrs:{icon:"account",size:"is-medium"}}),o("span"),e._v(" Usuarios ")],1),o("b-navbar-item",{attrs:{tag:"router-link",to:{path:"/clientes"}}},[o("b-icon",{attrs:{icon:"account-supervisor",size:"is-medium"}}),o("span"),e._v(" Clientes ")],1)]},proxy:!0},{key:"end",fn:function(){return[o("b-navbar-item",{attrs:{tag:"router-link",to:{path:"/configurar"}}},[o("b-icon",{attrs:{icon:"cogs",size:"is-medium"}}),o("span"),e._v(" Configurar ")],1),o("b-navbar-item",{attrs:{tag:"router-link",to:{path:"/perfil"}}},[o("b-icon",{attrs:{icon:"account",size:"is-medium"}}),o("span"),e._v(" "+e._s(e.usuario)+" ")],1),o("b-navbar-item",[o("div",{staticClass:"buttons"},[o("a",{staticClass:"button is-light",on:{click:e.salir}},[e._v(" Salir ")])])])]},proxy:!0}])})},i=[];const l={verificarSesion(){let e=localStorage.getItem("id");return!!e},obtenerDatosSesion(){const e=localStorage.getItem("id"),t=localStorage.getItem("usuario"),a=localStorage.getItem("nombre");return{id:e,usuario:t,nombre:a}},establecerSesion(e){localStorage.setItem("id",e.id),localStorage.setItem("usuario",e.usuario),localStorage.setItem("nombre",e.nombre)},establecerDatosNegocio(e){localStorage.setItem("nombreNegocio",e.nombre),localStorage.setItem("telefonoNegocio",e.telefono),localStorage.setItem("logoNegocio",e.logo)},obtenerDatosNegocio(){return{nombre:localStorage.getItem("nombreNegocio"),telefono:localStorage.getItem("telefonoNegocio"),logo:localStorage.getItem("logoNegocio")}},cerrarSesion(){localStorage.removeItem("id"),localStorage.removeItem("usuario"),localStorage.removeItem("nombre"),location.reload()}};var c=l,u={name:"EncabezadoComponent",data:()=>({usuario:""}),mounted(){this.usuario=c.obtenerDatosSesion().usuario},methods:{salir(){c.cerrarSesion()}}},d=u,p=a(1001),m=(0,p.Z)(d,n,i,!1,null,null,null),b=m.exports,g=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("section",{staticClass:"hero  is-fullheight fondo"},[o("div",{staticClass:"hero-body"},[o("div",{staticClass:"container"},[o("div",{staticClass:"box"},[o("h1",{staticClass:"title is-1 has-text-centered is-family-monospace"},[e._v("Sistema de ventas by")]),o("img",{staticStyle:{display:"block",margin:"0 auto"},attrs:{src:a(6949),width:"300"}}),o("b-field",{attrs:{label:"Nombre de usuario"}},[o("b-input",{attrs:{icon:"shield-account",type:"text",placeholder:"Ej. paco"},model:{value:e.usuario.usuario,callback:function(t){e.$set(e.usuario,"usuario",t)},expression:"usuario.usuario"}})],1),o("b-field",{attrs:{label:"Contraseña"}},[o("b-input",{attrs:{type:"password",placeholder:"Contraseña","password-reveal":""},model:{value:e.usuario.password,callback:function(t){e.$set(e.usuario,"password",t)},expression:"usuario.password"}})],1),o("b-button",{attrs:{type:"is-primary",size:"is-large","icon-left":"check"},on:{click:e.iniciarSesion}},[e._v("Ingresar")])],1),e.informacionNegocio?o("div",{staticClass:"has-text-centered"},[o("h2",{staticClass:"title is-2 has-text-danger-dark has-text-weight-bold"},[e._v(e._s(e.informacionNegocio.nombre))]),o("h3",{staticClass:"title is-3 has-text-info-dark has-text-weight-bold"},[e._v("Teléfono: "+e._s(e.informacionNegocio.telefono))])]):e._e(),o("img",{staticStyle:{display:"block",margin:"0 auto"},attrs:{src:"http://localhost/pos/api/logos/logo.png",width:"300",height:"300"}})])])])},h=[];const f="http://localhost/pos/api/",v={async registrar(e,t){let a=await fetch(f+e,{method:"post",body:JSON.stringify(t)}),o=await a.json();return o},async obtener(e){let t=await fetch(f+e),a=await t.json();return a},async editar(e,t){let a=await fetch(f+e,{method:"post",body:JSON.stringify(t)}),o=await a.json();return o},async eliminar(e,t){let a=await fetch(f+e,{method:"post",body:JSON.stringify(t)}),o=await a.json();return o},async obtenerConConsultas(e,t){let a=await fetch(f+e,{method:"post",body:JSON.stringify(t)}),o=await a.json();return o},obtenerDatosNegocio(){return this.obtener("configuracion/obtener_datos.php")}};var C=v,_={name:"InicioSesion",data:()=>({usuario:{usuario:"",password:""},informacionNegocio:null}),mounted(){this.obtenerInformacionLocal(),this.informacionNegocio=c.obtenerDatosNegocio()},methods:{iniciarSesion(){let e={accion:"iniciar_sesion",usuario:this.usuario};C.obtenerConConsultas("usuarios.php",e).then((e=>{e?e.estado&&(this.$buefy.toast.open({type:"is-info",message:"Información correcta. Bienvenido."}),this.$router.push({name:"InicioComponent"}),this.$emit("login",e)):this.$buefy.toast.open({type:"is-danger",message:"Información incorrecta. Verifica."})}))},obtenerInformacionLocal(){C.obtenerConConsultas("ajustes.php",{accion:"obtener"}).then((e=>{c.establecerDatosNegocio(e)}))}}},y=_,k=(0,p.Z)(y,g,h,!1,null,null,null),x=k.exports,S={name:"App",components:{EncabezadoComponent:b,InicioSesion:x},data:()=>({logeado:!1}),mounted(){const e=c.verificarSesion();this.logeado=e,console.log(this.logeado)},methods:{onLogin(e){console.log(e),e.estado&&(c.establecerSesion(e.usuario),this.logeado=c.verificarSesion())}}},w=S,P=(0,p.Z)(w,r,s,!1,null,null,null),E=P.exports,$=a(5564),j=(a(1588),a(2809)),z=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("nav-component",{attrs:{titulo:"Inventario",link:{path:"/agregar-producto"},texto:"Agregar producto"}}),a("b-breadcrumb",{attrs:{align:"is-left"}},[a("b-breadcrumb-item",{attrs:{tag:"router-link",to:"/"}},[e._v("Inicio")]),a("b-breadcrumb-item",{attrs:{active:""}},[e._v("Inventario")])],1),e.productos.length<1?a("mensaje-inicial",{attrs:{titulo:"No se han encontrado productos :(",subtitulo:"Agrega productos pulsando el botón de Agregar productos"}}):e._e(),e.productos.length>0?a("div",[a("cartas-totales",{attrs:{totales:e.cartasTotales}}),a("b-select",{model:{value:e.perPage,callback:function(t){e.perPage=t},expression:"perPage"}},[a("option",{attrs:{value:"5"}},[e._v("5 por página")]),a("option",{attrs:{value:"10"}},[e._v("10 por página")]),a("option",{attrs:{value:"15"}},[e._v("15 por página")]),a("option",{attrs:{value:"20"}},[e._v("20 por página")])]),a("b-table",{staticClass:"box",attrs:{data:e.productos,paginated:e.isPaginated,"per-page":e.perPage,"current-page":e.currentPage,"pagination-simple":e.isPaginationSimple,"pagination-position":e.paginationPosition,"default-sort-direction":e.defaultSortDirection,"pagination-rounded":e.isPaginationRounded,"sort-icon":e.sortIcon,"sort-icon-size":e.sortIconSize,"default-sort":"user.first_name","aria-next-label":"Next page","aria-previous-label":"Previous page","aria-page-label":"Page","aria-current-label":"Current page"},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t}}},[a("b-table-column",{attrs:{field:"codigo",label:"Código",sortable:"",searchable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.codigo)+" ")]}}],null,!1,3162132532)}),a("b-table-column",{attrs:{field:"nombre",label:"Nombre",sortable:"",searchable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.nombre)+" ")]}}],null,!1,3843434756)}),a("b-table-column",{attrs:{field:"precioCompra",label:"Precio compra",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" $"+e._s(t.row.precioCompra)+" ")]}}],null,!1,1706334937)}),a("b-table-column",{attrs:{field:"precioVenta",label:"Precio venta",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" $"+e._s(t.row.precioVenta)+" ")]}}],null,!1,694685363)}),a("b-table-column",{attrs:{field:"ganancia",label:"Ganacia",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("b",[e._v("$"+e._s(t.row.precioVenta-t.row.precioCompra))])]}}],null,!1,4020260452)}),a("b-table-column",{attrs:{field:"vendidoMayoreo",label:"¿Mayoreo?",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.vendidoMayoreo?e._e():a("b-tag",{attrs:{type:"is-danger"}},[e._v("No")]),t.row.vendidoMayoreo?a("div",[a("b",[e._v("Precio: ")]),e._v("$"+e._s(t.row.precioMayoreo)),a("br"),a("b",[e._v("A partir: ")]),e._v(e._s(t.row.cantidadMayoreo)+" ")]):e._e()]}}],null,!1,1269735218)}),a("b-table-column",{attrs:{field:"existencia",label:"Existencia",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.existencia)+" ")]}}],null,!1,4119800846)}),a("b-table-column",{attrs:{field:"nombreMarca",label:"Marca",sortable:"",searchable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.nombreMarca)+" ")]}}],null,!1,3010406328)}),a("b-table-column",{attrs:{field:"nombreCategoria",label:"Categoría",sortable:"",searchable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.nombreCategoria)+" ")]}}],null,!1,2703042277)}),a("b-table-column",{attrs:{field:"eliminar",label:"Eliminar"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("b-button",{attrs:{type:"is-danger"},on:{click:function(a){return e.eliminar(t.row.id)}}},[a("b-icon",{attrs:{icon:"delete"}})],1)]}}],null,!1,608520963)}),a("b-table-column",{attrs:{field:"editar",label:"Editar"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("b-button",{attrs:{type:"is-info"},on:{click:function(a){return e.editar(t.row.id)}}},[a("b-icon",{attrs:{icon:"pen"}})],1)]}}],null,!1,290644034)}),a("b-table-column",{attrs:{field:"editar",label:"Agregar"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("b-button",{attrs:{type:"is-primary"},on:{click:function(a){return e.agregarExistencia(t.row)}}},[a("b-icon",{attrs:{icon:"plus"}})],1)]}}],null,!1,2124434075)}),a("b-table-column",{attrs:{field:"editar",label:"Quitar"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("b-button",{attrs:{type:"is-warning"},on:{click:function(a){return e.quitarExistencia(t.row)}}},[a("b-icon",{attrs:{icon:"minus"}})],1)]}}],null,!1,2823224548)})],1)],1):e._e(),a("b-loading",{attrs:{"is-full-page":!0,"can-cancel":!1},model:{value:e.cargando,callback:function(t){e.cargando=t},expression:"cargando"}})],1)},M=[],A=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("nav",{staticClass:"level mt-2"},[a("div",{staticClass:"level-left"},[a("div",{staticClass:"level-item"},[a("p",{staticClass:"title is-1"},[e._v(e._s(e.titulo))])])]),a("div",{staticClass:"level-right"},[a("p",{staticClass:"level-item"},[a("b-button",{staticClass:"is-rounded",attrs:{type:"is-primary",size:"is-large","icon-left":"plus",tag:"router-link",to:e.link}},[e._v(" "+e._s(e.texto)+" ")])],1)])])},I=[],T={name:"NavComponent",props:["titulo","link","texto"]},D=T,N=(0,p.Z)(D,A,I,!1,null,null,null),V=N.exports,R=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"hero is-medium is-primary"},[a("div",{staticClass:"hero-body"},[a("p",{staticClass:"title"},[e._v(" "+e._s(e.titulo)+" ")]),a("p",{staticClass:"subtitle"},[e._v(" "+e._s(e.subtitulo)+" ")])])])},q=[],U={name:"mensajeInicial",props:["titulo","subtitulo"]},F=U,Z=(0,p.Z)(F,R,q,!1,null,null,null),O=Z.exports,G=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tile is-ancestor"},[a("div",{staticClass:"tile is-parent"},e._l(e.totales,(function(t,o){return a("div",{key:o,staticClass:"card tile is-child"},[a("div",{staticClass:"card-content"},[a("div",{staticClass:"level is-mobile"},[a("div",{staticClass:"level-item"},[a("div",{staticClass:"is-widget-label"},[a("h3",{staticClass:"subtitle is-spaced"},[e._v(e._s(t.nombre))]),a("h1",{staticClass:"title"},[a("div",[e._v(e._s(t.total))])])]),a("div",{staticClass:"level-item has-widget-icon"},[a("div",{staticClass:"is-widget-icon"},[a("span",{staticClass:"icon is-large",class:t.clase},[a("b-icon",{attrs:{icon:t.icono,size:"is-large"}})],1)])])])])])])})),0)])},L=[],B={name:"CartasTotales",props:["totales"]},J=B,Q=(0,p.Z)(J,G,L,!1,null,null,null),H=Q.exports,Y={name:"ProductosComponent",components:{NavComponent:V,MensajeInicial:O,CartasTotales:H},data:()=>({productos:[],cargando:!1,isPaginated:!0,isPaginationSimple:!1,isPaginationRounded:!0,paginationPosition:"bottom",defaultSortDirection:"asc",sortIcon:"arrow-up",sortIconSize:"is-medium",currentPage:1,perPage:5,cartasTotales:[]}),mounted(){this.obtenerProductos()},methods:{agregarExistencia(e){this.$buefy.dialog.prompt({message:"¿Cuántas piezas vas a agregar de "+e.nombre+"?",cancelText:"Cancelar",confirmText:"Agregar",inputAttrs:{type:"number",placeholder:"Escribe la cantidad de productos",value:"",min:1},trapFocus:!0,onConfirm:t=>{this.cargando=!0,C.registrar("productos.php",{accion:"agregar_existencia",cantidad:t,id:e.id}).then((a=>{a&&(this.cargando=!1,this.$buefy.toast.open(t+" Productos agregados a "+e.nombre),this.obtenerProductos())}))}})},quitarExistencia(e){this.$buefy.dialog.prompt({message:"¿Cuántas piezas vas a quitar de "+e.nombre+"?",cancelText:"Cancelar",confirmText:"Quitar",inputAttrs:{type:"number",placeholder:"Escribe la cantidad de productos",value:"",min:1},trapFocus:!0,onConfirm:t=>{t>e.existencia?this.$buefy.toast.open("No puedes quitar más de "+e.existencia+" productos"):(this.cargando=!0,C.registrar("productos.php",{accion:"restar_existencia",cantidad:t,id:e.id}).then((a=>{a&&(this.cargando=!1,this.$buefy.toast.open(t+" Productos quitados a "+e.nombre),this.obtenerProductos())})))}})},async eliminar(e){this.$buefy.dialog.confirm({title:"Eliminar producto",message:"Seguro que quieres <b>eliminar</b> este producto? Esta acción no se puede revertir.",confirmText:"Sí, eliminar",cancelText:"Cancelar",type:"is-danger",hasIcon:!0,onConfirm:()=>{this.cargando=!0,C.eliminar("productos.php",{accion:"eliminar",id:e}).then((e=>{if(!e)return this.$buefy.toast.open("Error al eliminar"),void(this.cargando=!1);e&&(this.cargando=!1,this.$buefy.toast.open({type:"is-info",message:"Producto eliminado."}),this.obtenerProductos())}))}})},editar(e){this.$router.push({name:"EditarProducto",params:{id:e}})},obtenerProductos(){this.cargando=!0;let e={accion:"obtener"};C.obtenerConConsultas("productos.php",e).then((e=>{this.productos=e.productos,this.cartasTotales=[{nombre:"Número Productos",total:this.productos.length,icono:"package-variant-closed",clase:"has-text-danger"},{nombre:"Total productos",total:e.totalProductos,icono:"chart-bar-stacked",clase:"has-text-primary"},{nombre:"Total inventario",total:"$"+e.totalInventario,icono:"currency-usd",clase:"has-text-success"},{nombre:"Ganancia",total:"$"+e.gananciaInventario,icono:"currency-usd",clase:"has-text-info"}],this.cargando=!1}))}}},W=Y,X=(0,p.Z)(W,z,M,!1,null,null,null),K=X.exports,ee=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("p",{staticClass:"title is-1"},[e._v("Agregar productos")]),a("b-breadcrumb",{attrs:{align:"is-left"}},[a("b-breadcrumb-item",{attrs:{tag:"router-link",to:"/"}},[e._v("Inicio")]),a("b-breadcrumb-item",{attrs:{tag:"router-link",to:"/inventario"}},[e._v("Inventario")]),a("b-breadcrumb-item",{attrs:{active:""}},[e._v("Agregar producto")])],1),a("form-producto",{attrs:{productoProp:e.producto},on:{registrado:e.onRegistrado}}),a("b-loading",{attrs:{"is-full-page":!0,"can-cancel":!1},model:{value:e.cargando,callback:function(t){e.cargando=t},expression:"cargando"}})],1)},te=[],ae=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"box"},[a("b-field",{attrs:{grouped:"","group-multiline":""}},[a("b-field",{attrs:{label:"Código de barras",expanded:""}},[a("b-input",{attrs:{type:"number",icon:"barcode",placeholder:"Código de barras"},model:{value:e.producto.codigo,callback:function(t){e.$set(e.producto,"codigo",t)},expression:"producto.codigo"}})],1),a("b-field",{attrs:{label:"Nombre",expanded:""}},[a("b-input",{attrs:{placeholder:"Nombre o descripción del producto"},model:{value:e.producto.nombre,callback:function(t){e.$set(e.producto,"nombre",t)},expression:"producto.nombre"}})],1)],1),a("b-field",{attrs:{grouped:"","group-multiline":""}},[a("b-field",{attrs:{label:"Precio compra",expanded:""}},[a("b-input",{attrs:{step:"any",icon:"currency-usd",type:"number",placeholder:"Precio de compra"},model:{value:e.producto.precioCompra,callback:function(t){e.$set(e.producto,"precioCompra",t)},expression:"producto.precioCompra"}})],1),a("b-field",{attrs:{label:"Precio venta",expanded:""}},[a("b-input",{attrs:{step:"any",icon:"currency-usd",type:"number",placeholder:"Precio de venta",min:e.producto.precioCompra},model:{value:e.producto.precioVenta,callback:function(t){e.$set(e.producto,"precioVenta",t)},expression:"producto.precioVenta"}})],1),a("b-field",{attrs:{label:"Existencia",expanded:""}},[a("b-numberinput",{attrs:{min:"1",type:"is-info",placeholder:"Existencia"},model:{value:e.producto.existencia,callback:function(t){e.$set(e.producto,"existencia",t)},expression:"producto.existencia"}})],1)],1),a("br"),a("b-field",{attrs:{grouped:"","group-multiline":""}},[a("b-field",[a("b-switch",{attrs:{type:"is-info"},model:{value:e.producto.vendidoMayoreo,callback:function(t){e.$set(e.producto,"vendidoMayoreo",t)},expression:"producto.vendidoMayoreo"}},[e._v(" ¿Vendido al mayoreo? ")])],1),e.producto.vendidoMayoreo?a("b-field",{attrs:{label:"Precio mayoreo",expanded:""}},[a("b-input",{attrs:{step:"any",icon:"currency-usd",type:"number",placeholder:"Precio de venta al mayoreo",min:e.producto.precioCompra},model:{value:e.producto.precioMayoreo,callback:function(t){e.$set(e.producto,"precioMayoreo",t)},expression:"producto.precioMayoreo"}})],1):e._e(),e.producto.vendidoMayoreo?a("b-field",{attrs:{label:"Cantidad mayoreo",expanded:""}},[a("b-numberinput",{attrs:{min:"1",type:"is-info",placeholder:"Cantidad para aplicar mayoreo"},model:{value:e.producto.cantidadMayoreo,callback:function(t){e.$set(e.producto,"cantidadMayoreo",t)},expression:"producto.cantidadMayoreo"}})],1):e._e()],1),a("br"),a("b-field",{attrs:{grouped:"","group-multiline":""}},[a("b-field",{attrs:{label:"Selecciona una marca"}},[a("b-select",{attrs:{placeholder:"Marca",icon:"tag-multiple"},model:{value:e.producto.marca,callback:function(t){e.$set(e.producto,"marca",t)},expression:"producto.marca"}},e._l(e.marcas,(function(t){return a("option",{key:t.id,domProps:{value:t.id}},[e._v(" "+e._s(t.nombreMarca)+" ")])})),0)],1),a("b-field",{attrs:{label:"Selecciona una categoría"}},[a("b-select",{attrs:{placeholder:"Categoría",icon:"archive"},model:{value:e.producto.categoria,callback:function(t){e.$set(e.producto,"categoria",t)},expression:"producto.categoria"}},e._l(e.categorias,(function(t){return a("option",{key:t.id,domProps:{value:t.id}},[e._v(" "+e._s(t.nombreCategoria)+" ")])})),0)],1)],1),a("br"),a("div",{staticClass:"buttons has-text-centered"},[a("b-button",{attrs:{type:"is-primary",size:"is-large","icon-left":"check"},on:{click:e.registrar}},[e._v("Registrar")]),a("b-button",{attrs:{type:"is-dark",size:"is-large","icon-left":"cancel",tag:"router-link",to:"/inventario"}},[e._v("Cancelar")])],1),e.mensajesError.length>0?a("errores-component",{attrs:{errores:e.mensajesError}}):e._e()],1)},oe=[],re=a(5395),se=a.n(re);const ne="http://localhost/pos/api",ie=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],le={resetearGrafica(e,t,a){const o=document.querySelector(e);let r=document.querySelector(t);r.remove();let s=document.createElement("canvas");s.setAttribute("id",a),o.appendChild(s)},generarGrafica(e,t,a,o,r){this.resetearGrafica(a,o,r);const s=this.generarEtiquetas(t),n=this.generarValores(t),i={labels:s,datasets:[{label:"Total ",data:n,backgroundColor:this.generarColores(s.length),fill:!1,tension:.1,borderWidth:3}]};var l=document.getElementById(r).getContext("2d"),c={responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0}}};new(se())(l,{responsive:!0,type:e,data:i,options:c})},generarColores(e){const t=[];for(let a=0;a<e;a++)t.push("#"+Math.floor(16777215*Math.random()).toString(16));return t},cambiarNumeroANombreMes(e){for(let t=0;t<e.length;t++){let a=e[t].mes;e[t].mes=ie[a-1]}return e},generarEtiquetas(e){const t=e.map((e=>e[Object.keys(e)[0]]));return t},generarValores(e){const t=e.map((e=>e.totalVentas));return t},validarDatos(e){let t=[];for(let[a,o]of Object.entries(e))o||t.push("Debes colocar el valor de "+a);return t},calcularTotalGanancia(e){let t=0;return e.forEach((e=>{e.productos.forEach((e=>{t+=parseFloat(e.cantidad*e.precio)-parseFloat(e.cantidad*e.precioCompra)}))})),t},calcularProductosVendidos(e){let t=0;return e.forEach((e=>{e.productos.forEach((e=>{t+=parseFloat(e.cantidad)}))})),t},regresarRuta(){return ne}};var ce=le,ue=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"hero is-danger"},[a("div",{staticClass:"hero-body"},[a("p",{staticClass:"title"},[e._v(" Debes completar los siguientes campos ")]),e._l(e.errores,(function(t,o){return a("p",{key:o,staticClass:"subtitle"},[e._v(" "+e._s(t)+" ")])}))],2)])},de=[],pe={name:"ErroresComponent",props:["errores"]},me=pe,be=(0,p.Z)(me,ue,de,!1,null,null,null),ge=be.exports,he={name:"FormProducto",props:["productoProp"],components:{ErroresComponent:ge},data:()=>({categorias:[],marcas:[],producto:{codigo:"",nombre:"",precioCompra:"",precioVenta:"",existencia:0,vendidoMayoreo:!1,precioMayoreo:"",cantidadMayoreo:0,categoria:"",marca:""},mensajesError:[]}),mounted(){this.obtenerCategorias(),this.obtenerMarcas(),this.producto=this.productoProp,this.producto.vendidoMayoreo=1===this.productoProp.vendidoMayoreo,this.producto.cantidadMayoreo=parseInt(this.productoProp.cantidadMayoreo)},methods:{registrar(){let e={"Código":this.producto.codigo,Nombre:this.producto.nombre,"Precio compra":this.producto.precioCompra,"Precio venta":this.producto.precioVenta,Existencia:this.producto.existencia};this.mensajesError=ce.validarDatos(e),parseFloat(this.producto.precioVenta)<parseFloat(this.producto.precioCompra)&&this.mensajesError.push("El precio de venta debe ser mayor al precio compra"),this.mensajesError.length>0||(this.$emit("registrado",this.producto),this.producto={codigo:"",nombre:"",precioCompra:"",precioVenta:"",existencia:0,vendidoMayoreo:!1,precioMayoreo:"",cantidadMayoreo:0,categoria:"",marca:""})},obtenerMarcas(){let e={accion:"obtener"};C.obtenerConConsultas("marcas.php",e).then((e=>{this.marcas=e}))},obtenerCategorias(){let e={accion:"obtener"};C.obtenerConConsultas("categorias.php",e).then((e=>{this.categorias=e}))}}},fe=he,ve=(0,p.Z)(fe,ae,oe,!1,null,null,null),Ce=ve.exports,_e={name:"AgregarProducto",components:{FormProducto:Ce},data:()=>({cargando:!1,producto:{codigo:"",nombre:"",precioCompra:"",precioVenta:"",existencia:0,vendidoMayoreo:!1,precioMayoreo:"",cantidadMayoreo:0,categoria:"",marca:""}}),methods:{onRegistrado(e){console.log(e),this.cargando=!0;let t={accion:"registrar",producto:e};C.registrar("productos.php",t).then((e=>{e&&(this.cargando=!1,this.$buefy.toast.open({type:"is-info",message:"Producto registrado con éxito."}))}))}}},ye=_e,ke=(0,p.Z)(ye,ee,te,!1,null,null,null),xe=ke.exports,Se=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("h1",{staticClass:"title is-1"},[e._v("Editar producto")]),a("b-breadcrumb",{attrs:{align:"is-left"}},[a("b-breadcrumb-item",{attrs:{tag:"router-link",to:"/"}},[e._v("Inicio")]),a("b-breadcrumb-item",{attrs:{tag:"router-link",to:"/inventario"}},[e._v("Inventario")]),a("b-breadcrumb-item",{attrs:{active:""}},[e._v("Editar producto")])],1),e.datosProducto?a("form-producto",{attrs:{productoProp:e.datosProducto},on:{registrado:e.onEditar}}):e._e()],1)},we=[],Pe={name:"EditarProducto",components:{FormProducto:Ce},data:()=>({cargando:!1,datosProducto:null}),async mounted(){this.cargando=!0;const e=await C.obtenerConConsultas("productos.php",{accion:"obtener_por_id",id:this.$route.params.id});this.datosProducto=e,this.cargando=!1},methods:{async onEditar(e){this.cargando=!0;const t=await C.editar("productos.php",{accion:"editar",producto:e});t&&(this.cargando=!1,this.$buefy.toast.open({type:"is-info",message:"Información de producto actualizada con éxito."}),this.$router.push({name:"ProductosComponent"}))}}},Ee=Pe,$e=(0,p.Z)(Ee,Se,we,!1,null,null,null),je=$e.exports,ze=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("p",{staticClass:"title is-1"},[e._v("Marcas y categorías")]),a("b-breadcrumb",{attrs:{align:"is-left"}},[a("b-breadcrumb-item",{attrs:{tag:"router-link",to:"/"}},[e._v("Inicio")]),a("b-breadcrumb-item",{attrs:{active:""}},[e._v("Marcas y categorías")])],1),a("b-tabs",{attrs:{size:"is-large"},model:{value:e.tabActiva,callback:function(t){e.tabActiva=t},expression:"tabActiva"}},[a("b-tab-item",{attrs:{label:"Marcas",icon:"tag-multiple"}},[a("marcas-component")],1),a("b-tab-item",{attrs:{label:"Categorías",icon:"archive"}},[a("categorias-component")],1)],1)],1)},Me=[],Ae=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("b-button",{staticClass:"is-rounded",attrs:{type:"is-primary",size:"is-medium","icon-left":"plus"},on:{click:e.agregarMarca}},[e._v(" Agregar marca ")]),a("b-table",{attrs:{data:e.marcas}},[a("b-table-column",{attrs:{field:"nombreMarca",label:"Marca",sortable:"",searchable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.nombreMarca)+" ")]}}])}),a("b-table-column",{attrs:{field:"eliminar",label:"Eliminar"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("b-button",{attrs:{type:"is-danger","icon-left":"delete"},on:{click:function(a){return e.eliminar(t.row)}}},[e._v("Eliminar")])]}}])}),a("b-table-column",{attrs:{field:"editar",label:"Editar"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("b-button",{attrs:{type:"is-info","icon-left":"pen"},on:{click:function(a){return e.editar(t.row)}}},[e._v("Editar")])]}}])})],1),a("b-modal",{attrs:{"has-modal-card":"","trap-focus":"","destroy-on-hide":!1,"aria-role":"dialog","aria-label":"Modal","close-button-aria-label":"Close","aria-modal":""},model:{value:e.mostrarDialogoMarcas,callback:function(t){e.mostrarDialogoMarcas=t},expression:"mostrarDialogoMarcas"}},[e.mostrarDialogoMarcas?a("dialogo-marcas",{attrs:{titulo:e.tituloModal,nombre:e.nombreMarca},on:{close:e.onCerrarDialogo,registrar:e.onRegistrar}}):e._e()],1),a("b-loading",{attrs:{"is-full-page":!0,"can-cancel":!1},model:{value:e.cargando,callback:function(t){e.cargando=t},expression:"cargando"}})],1)},Ie=[],Te=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("form",{attrs:{action:""}},[a("div",{staticClass:"modal-card",staticStyle:{width:"600px"}},[a("header",{staticClass:"modal-card-head"},[a("p",{staticClass:"modal-card-title"},[e._v(e._s(e.titulo)+" marca")]),a("button",{staticClass:"delete",attrs:{type:"button"},on:{click:function(t){return e.$emit("close")}}})]),a("section",{staticClass:"modal-card-body"},[a("b-field",{attrs:{label:"Nombre de la marca"}},[a("b-input",{attrs:{type:"text",placeholder:"Ej. Pelikan"},model:{value:e.nombreMarca,callback:function(t){e.nombreMarca=t},expression:"nombreMarca"}})],1)],1),a("footer",{staticClass:"modal-card-foot"},[a("b-button",{attrs:{label:"Cancelar","icon-left":"cancel",size:"is-medium"},on:{click:function(t){return e.$emit("close")}}}),a("b-button",{attrs:{label:"Registrar",type:"is-primary","icon-left":"check"},on:{click:e.registrar}})],1)])])},De=[],Ne={name:"DialogoMarcas",props:["titulo","nombre"],data:()=>({nombreMarca:""}),mounted(){this.nombreMarca=this.nombre},methods:{registrar(){this.nombreMarca?this.$emit("registrar",this.nombreMarca):this.$buefy.toast.open({type:"is-danger",message:"Debes colocar el nombre de la marca."})}}},Ve=Ne,Re=(0,p.Z)(Ve,Te,De,!1,null,null,null),qe=Re.exports,Ue={name:"MarcasComponent",components:{DialogoMarcas:qe},data:()=>({cargando:!1,marcas:[],mostrarDialogoMarcas:!1,tituloModal:"",nombreMarca:"",idMarca:""}),mounted(){this.obtenerMarcas()},methods:{eliminar(e){this.$buefy.dialog.confirm({title:"Eliminar marca",message:"Seguro que quieres <b>eliminar</b> la marca "+e.nombreMarca+"? Esta acción no se puede revertir.",confirmText:"Sí, eliminar",cancelText:"Cancelar",type:"is-danger",hasIcon:!0,onConfirm:()=>{this.cargando=!0,C.eliminar("marcas.php",{accion:"eliminar",id:e.id}).then((e=>{if(!e)return this.$buefy.toast.open("Error al eliminar"),void(this.cargando=!1);e&&(this.cargando=!1,this.$buefy.toast.open({type:"is-info",message:"Marca eliminada."}),this.obtenerMarcas())}))}})},editar(e){this.tituloModal="Editar",this.mostrarDialogoMarcas=!0,this.idMarca=e.id,this.nombreMarca=e.nombreMarca},onCerrarDialogo(){this.mostrarDialogoMarcas=!1,this.nombreMarca=""},onRegistrar(e){this.cargando=!0;let t="Agregar"===this.tituloModal?"registrar":"Editar"===this.tituloModal&&"editar";C.registrar("marcas.php",{accion:t,marca:{nombreMarca:e,id:this.idMarca}}).then((t=>{if("existe"===t)return this.$buefy.toast.open({type:"is-primary",message:"La marca"+e+" ya existe, selecciona otra."}),void(this.cargando=!1);t&&(this.cargando=!1,this.$buefy.toast.open({type:"is-info",message:"Información de marca registrada con éxito."}),this.obtenerMarcas(),this.nombreMarca="",this.mostrarDialogoMarcas=!1)}))},agregarMarca(){this.tituloModal="Agregar",this.mostrarDialogoMarcas=!0},obtenerMarcas(){this.cargando=!0;let e={accion:"obtener"};C.obtenerConConsultas("marcas.php",e).then((e=>{this.marcas=e,this.cargando=!1}))}}},Fe=Ue,Ze=(0,p.Z)(Fe,Ae,Ie,!1,null,null,null),Oe=Ze.exports,Ge=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("b-button",{staticClass:"is-rounded",attrs:{type:"is-primary",size:"is-medium","icon-left":"plus"},on:{click:e.agregarCategoria}},[e._v(" Agregar categoría ")]),a("b-table",{attrs:{data:e.categorias}},[a("b-table-column",{attrs:{field:"nombreCategoria",label:"Categoria",sortable:"",searchable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.nombreCategoria)+" ")]}}])}),a("b-table-column",{attrs:{field:"eliminar",label:"Eliminar"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("b-button",{attrs:{type:"is-danger","icon-left":"delete"},on:{click:function(a){return e.eliminar(t.row)}}},[e._v("Eliminar")])]}}])}),a("b-table-column",{attrs:{field:"editar",label:"Editar"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("b-button",{attrs:{type:"is-info","icon-left":"pen"},on:{click:function(a){return e.editar(t.row)}}},[e._v("Editar")])]}}])})],1),a("b-modal",{attrs:{"has-modal-card":"","trap-focus":"","destroy-on-hide":!1,"aria-role":"dialog","aria-label":"Modal","close-button-aria-label":"Close","aria-modal":""},model:{value:e.mostrarDialogoCategorias,callback:function(t){e.mostrarDialogoCategorias=t},expression:"mostrarDialogoCategorias"}},[e.mostrarDialogoCategorias?a("dialogo-categorias",{attrs:{titulo:e.tituloModal,nombre:e.nombreCategoria},on:{close:e.onCerrarDialogo,registrar:e.onRegistrar}}):e._e()],1),a("b-loading",{attrs:{"is-full-page":!0,"can-cancel":!1},model:{value:e.cargando,callback:function(t){e.cargando=t},expression:"cargando"}})],1)},Le=[],Be=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("form",{attrs:{action:""}},[a("div",{staticClass:"modal-card",staticStyle:{width:"600px"}},[a("header",{staticClass:"modal-card-head"},[a("p",{staticClass:"modal-card-title"},[e._v(e._s(e.titulo)+" categoría")]),a("button",{staticClass:"delete",attrs:{type:"button"},on:{click:function(t){return e.$emit("close")}}})]),a("section",{staticClass:"modal-card-body"},[a("b-field",{attrs:{label:"Nombre de la categoría"}},[a("b-input",{attrs:{type:"text",placeholder:"Ej. Libretas"},model:{value:e.nombreCategoria,callback:function(t){e.nombreCategoria=t},expression:"nombreCategoria"}})],1)],1),a("footer",{staticClass:"modal-card-foot"},[a("b-button",{attrs:{label:"Cancelar","icon-left":"cancel",size:"is-medium"},on:{click:function(t){return e.$emit("close")}}}),a("b-button",{attrs:{label:"Registrar",type:"is-primary","icon-left":"check"},on:{click:e.registrar}})],1)])])},Je=[],Qe={name:"DialogoCategorias",props:["titulo","nombre"],data:()=>({nombreCategoria:""}),mounted(){this.nombreCategoria=this.nombre},methods:{registrar(){this.nombreCategoria?this.$emit("registrar",this.nombreCategoria):this.$buefy.toast.open({type:"is-danger",message:"Debes colocar el nombre de la categoría."})}}},He=Qe,Ye=(0,p.Z)(He,Be,Je,!1,null,null,null),We=Ye.exports,Xe={name:"CategoriasComponent",components:{DialogoCategorias:We},data:()=>({categorias:[],cargando:!1,mostrarDialogoCategorias:!1,tituloModal:"",nombreCategoria:"",idCategoria:""}),mounted(){this.obtenerCategorias()},methods:{eliminar(e){this.$buefy.dialog.confirm({title:"Eliminar categoría",message:"Seguro que quieres <b>eliminar</b> la categoría "+e.nombreCategoria+"? Esta acción no se puede revertir.",confirmText:"Sí, eliminar",cancelText:"Cancelar",type:"is-danger",hasIcon:!0,onConfirm:()=>{this.cargando=!0,C.eliminar("categorias.php",{accion:"eliminar",id:e.id}).then((e=>{if(!e)return this.$buefy.toast.open("Error al eliminar"),void(this.cargando=!1);e&&(this.cargando=!1,this.$buefy.toast.open({type:"is-info",message:"Categoría eliminada."}),this.obtenerCategorias())}))}})},editar(e){this.tituloModal="Editar",this.mostrarDialogoCategorias=!0,this.idCategoria=e.id,this.nombreCategoria=e.nombreCategoria},onCerrarDialogo(){this.mostrarDialogoCategorias=!1,this.nombreCategoria=""},onRegistrar(e){this.cargando=!0;let t="Agregar"===this.tituloModal?"registrar":"Editar"===this.tituloModal&&"editar";C.registrar("categorias.php",{accion:t,categoria:{nombreCategoria:e,id:this.idCategoria}}).then((t=>{if("existe"===t)return this.$buefy.toast.open({type:"is-primary",message:"La categoría"+e+" ya existe, selecciona otra."}),void(this.cargando=!1);t&&(this.cargando=!1,this.$buefy.toast.open({type:"is-info",message:"Información de categoría registrada con éxito."}),this.obtenerCategorias(),this.nombreCategoria="",this.mostrarDialogoCategorias=!1)}))},agregarCategoria(){this.tituloModal="Agregar",this.mostrarDialogoCategorias=!0},obtenerCategorias(){this.cargando=!0;let e={accion:"obtener"};C.obtenerConConsultas("categorias.php",e).then((e=>{this.categorias=e,this.cargando=!1}))}}},Ke=Xe,et=(0,p.Z)(Ke,Ge,Le,!1,null,null,null),tt=et.exports,at={name:"MarcasCategorias",components:{MarcasComponent:Oe,CategoriasComponent:tt},data:()=>({tabActiva:0})},ot=at,rt=(0,p.Z)(ot,ze,Me,!1,null,null,null),st=rt.exports,nt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("buscar-producto",{on:{seleccionado:e.onSeleccionado}}),e.productos.length<1?a("mensaje-inicial",{attrs:{titulo:"No has agregado productos",subtitulo:"Agrega algunos productos a la lista para venderlos :)"}}):e._e(),e.productos.length>0?a("div",[a("tabla-productos",{attrs:{listaProductos:e.productos},on:{quitar:e.onQuitar,aumentar:e.onAumentar}}),a("div",{staticClass:"notification is-primary mt-3"},[a("p",{staticClass:" has-text-weight-bold has-text-centered",staticStyle:{"font-size":"5em"}},[e._v(" Total $"+e._s(e.total)+" ")]),a("nav",{staticClass:"level mt-2"},[a("div",{staticClass:"level-item has-text-centered"},[a("b-button",{staticClass:"button is-responsive",attrs:{type:"is-success",inverted:"","icon-left":"check",size:"is-large"},on:{click:function(t){return e.abrirDialogo("venta")}}},[e._v(" Terminar venta ")])],1),a("div",{staticClass:"level-item has-text-centered"},[a("b-button",{staticClass:"button is-responsive",attrs:{type:"is-info",inverted:"","icon-left":"wallet-plus",size:"is-large"},on:{click:function(t){return e.abrirDialogo("cuenta")}}},[e._v(" Agregar a cuenta ")])],1),a("div",{staticClass:"level-item has-text-centered"},[a("b-button",{staticClass:"button is-responsive",attrs:{type:"is-dark",inverted:"","icon-left":"wallet-travel",size:"is-large"},on:{click:function(t){return e.abrirDialogo("apartado")}}},[e._v(" Realizar apartado ")])],1),a("div",{staticClass:"level-item has-text-centered"},[a("b-button",{staticClass:"button is-responsive",attrs:{type:"is-danger",inverted:"","icon-left":"cancel",size:"is-large"},on:{click:e.cancelarVenta}},[e._v(" Cancelar ")])],1),a("div",{staticClass:"level-item has-text-centered"},[a("b-button",{staticClass:"button is-responsive",attrs:{type:"is-warning",inverted:"","icon-left":"ticket-outline",size:"is-large"},on:{click:function(t){return e.abrirDialogo("cotiza")}}},[e._v(" Cotizar ")])],1)])])],1):e._e(),a("b-loading",{attrs:{"is-full-page":!0,"can-cancel":!1},model:{value:e.cargando,callback:function(t){e.cargando=t},expression:"cargando"}}),a("b-modal",{attrs:{"has-modal-card":"","trap-focus":"","destroy-on-hide":!1,"aria-role":"dialog","aria-label":"Modal Terminar Venta","close-button-aria-label":"Close","aria-modal":""},model:{value:e.mostrarDialogo,callback:function(t){e.mostrarDialogo=t},expression:"mostrarDialogo"}},[e.mostrarTerminarVenta?a("dialogo-terminar-venta",{attrs:{totalVenta:e.total},on:{close:e.onCerrar,terminar:e.onTerminar}}):e._e(),e.mostrarAgregarCuenta?a("dialogo-agregar-cuenta",{attrs:{totalVenta:e.total},on:{close:e.onCerrar,terminar:e.onTerminar}}):e._e(),e.mostrarAgregarApartado?a("dialogo-agregar-apartado",{attrs:{totalVenta:e.total},on:{close:e.onCerrar,terminar:e.onTerminar}}):e._e(),e.mostrarRegistrarCotizacion?a("dialogo-cotizar",{attrs:{totalVenta:e.total},on:{close:e.onCerrar,terminar:e.onTerminar}}):e._e()],1),e.mostrarComprobante?a("comprobante-compra",{attrs:{venta:this.ventaRealizada,tipo:e.tipoVenta},on:{impreso:e.onImpreso}}):e._e()],1)},it=[],lt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-field",{attrs:{label:"Buscar producto por nombre o código de barras"}},[a("b-autocomplete",{attrs:{id:"producto",placeholder:"Escribe el nombre o el código de barras del producto","keep-first":!0,data:e.productosFiltrados,field:"nombre",size:"is-large"},on:{input:e.buscarProductos,select:e.seleccionarProducto},model:{value:e.producto,callback:function(t){e.producto=t},expression:"producto"}})],1)},ct=[],ut={name:"BuscarProducto",data:()=>({producto:"",productosEncontrados:[]}),mounted(){this.ponerFocus()},methods:{seleccionarProducto(e){e&&(this.$emit("seleccionado",e),this.ponerFocus(),setTimeout((()=>this.producto=""),10))},buscarProductos(){let e={accion:"obtener_nombre_codigo",producto:this.producto};C.obtenerConConsultas("productos.php",e).then((e=>{this.productosEncontrados=e}))},ponerFocus(){document.querySelector("#producto").focus()}},computed:{productosFiltrados(){return this.productosEncontrados.filter((e=>e.nombre.toString().toLowerCase().indexOf(this.producto.toLowerCase())>=0||e.codigo.toString().indexOf(this.producto)>=0))}}},dt=ut,pt=(0,p.Z)(dt,lt,ct,!1,null,null,null),mt=pt.exports,bt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-table",{attrs:{data:e.listaProductos}},[a("b-table-column",{attrs:{field:"codigo",label:"Código"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.codigo)+" ")]}}])}),a("b-table-column",{attrs:{field:"nombre",label:"Nombre"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.nombre)+" ")]}}])}),a("b-table-column",{attrs:{field:"precio",label:"Precio"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" $"+e._s(t.row.precio)+" ")]}}])}),a("b-table-column",{attrs:{field:"cantidad",label:"Cantidad"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("b-field",[a("b-numberinput",{staticStyle:{width:"13em"},attrs:{min:"1",max:t.row.existencia},on:{input:function(a){return e.aumentar(t.row)}},model:{value:t.row.cantidad,callback:function(a){e.$set(t.row,"cantidad",a)},expression:"props.row.cantidad"}})],1)]}}])}),a("b-table-column",{attrs:{field:"subtotal",label:"Subtotal"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("b",[e._v("$"+e._s(t.row.precio*t.row.cantidad))])]}}])}),a("b-table-column",{attrs:{field:"quitar",label:"Quitar"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("b-button",{attrs:{"icon-left":"delete",type:"is-danger"},on:{click:function(a){return e.quitar(t.row.id)}}},[e._v(" Quitar ")])]}}])})],1)},gt=[],ht={name:"TablaProductos",props:["listaProductos"],data:()=>({}),methods:{quitar(e){this.$emit("quitar",e)},aumentar(e){this.$emit("aumentar",e)}}},ft=ht,vt=(0,p.Z)(ft,bt,gt,!1,null,null,null),Ct=vt.exports,_t=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("form",{attrs:{action:""}},[a("div",{staticClass:"modal-card",staticStyle:{width:"600px"}},[a("header",{staticClass:"modal-card-head has-background-success"},[a("p",{staticClass:"modal-card-title has-text-white"},[e._v("Terminar venta")]),a("button",{staticClass:"delete",attrs:{type:"button"},on:{click:function(t){return e.$emit("close","venta")}}})]),a("section",{staticClass:"modal-card-body"},[a("p",{staticClass:"is-size-1 has-text-weight-bold"},[e._v("Total $"+e._s(e.totalVenta))]),a("busqueda-cliente",{on:{seleccionado:e.onSeleccionado}}),a("b-field",{attrs:{label:"El cliente paga con"}},[a("b-input",{ref:"pagado",attrs:{step:"any",icon:"currency-usd",type:"number",placeholder:"Monto pagado",size:"is-medium"},on:{input:e.calcularCambio},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.terminarVenta.apply(null,arguments)}},model:{value:e.pagado,callback:function(t){e.pagado=t},expression:"pagado"}})],1),a("p",{staticClass:"is-size-1 has-text-weight-bold"},[e._v("Cambio $"+e._s(e.cambio))])],1),a("footer",{staticClass:"modal-card-foot"},[a("b-button",{attrs:{label:"Cancelar","icon-left":"cancel",size:"is-medium"},on:{click:function(t){return e.$emit("close","venta")}}}),a("b-button",{attrs:{label:"Terminar venta",type:"is-success","icon-left":"check",size:"is-medium"},on:{click:e.terminarVenta}})],1)])])},yt=[],kt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("b-field",{attrs:{label:"Nombre del cliente"}},[a("b-autocomplete",{attrs:{id:"cliente",placeholder:"Escribe el nombre del cliente","keep-first":!0,data:e.clientesFiltrados,field:"nombre",size:"is-medium"},on:{input:e.buscarClientes,select:e.seleccionarCliente},model:{value:e.cliente,callback:function(t){e.cliente=t},expression:"cliente"}})],1),e.clienteSeleccionado?a("div",{staticClass:"notification is-info mt-2"},[a("button",{staticClass:"delete",on:{click:e.deseleccionarCliente}}),a("p",[e._v("Cliente: "),a("b",[e._v(e._s(e.clienteSeleccionado.nombre))])]),a("p",[e._v("Teléfono: "),a("b",[e._v(e._s(e.clienteSeleccionado.telefono))])])]):e._e()],1)},xt=[],St={name:"BusquedaCliente",data:()=>({cliente:"",clientesEncontrados:[],clienteSeleccionado:null}),methods:{deseleccionarCliente(){this.clienteSeleccionado=null},seleccionarCliente(e){e&&(this.clienteSeleccionado=e,this.$emit("seleccionado",this.clienteSeleccionado),setTimeout((()=>this.cliente=""),10))},buscarClientes(){let e={accion:"obtener_por_nombre",nombre:this.cliente};C.obtenerConConsultas("clientes.php",e).then((e=>{this.clientesEncontrados=e}))}},computed:{clientesFiltrados(){return this.clientesEncontrados.filter((e=>e.nombre.toString().toLowerCase().indexOf(this.cliente.toLowerCase())>=0))}}},wt=St,Pt=(0,p.Z)(wt,kt,xt,!1,null,null,null),Et=Pt.exports,$t={name:"DialogoTerminarVenta",props:["totalVenta"],components:{BusquedaCliente:Et},data:()=>({pagado:"",cambio:0,cliente:{}}),mounted(){this.$refs.pagado.focus()},methods:{onSeleccionado(e){this.cliente=e},calcularCambio(){this.cambio=parseFloat(this.pagado-this.totalVenta)},terminarVenta(){if(""===this.pagado||this.pagado<this.totalVenta)return void this.$buefy.toast.open({type:"is-danger",message:"Debes colocar el total pagado."});let e={tipo:"venta",pagado:this.pagado,cambio:this.cambio,cliente:this.cliente};this.$emit("terminar",e)}}},jt=$t,zt=(0,p.Z)(jt,_t,yt,!1,null,null,null),Mt=zt.exports,At=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("form",{attrs:{action:""}},[a("div",{staticClass:"modal-card",staticStyle:{width:"600px"}},[a("header",{staticClass:"modal-card-head has-background-info"},[a("p",{staticClass:"modal-card-title has-text-white"},[e._v("Agregar a cuenta")]),a("button",{staticClass:"delete",attrs:{type:"button"},on:{click:function(t){return e.$emit("close","cuenta")}}})]),a("section",{staticClass:"modal-card-body"},[a("p",{staticClass:"is-size-1 has-text-weight-bold"},[e._v("Total $"+e._s(e.totalVenta))]),a("busqueda-cliente",{on:{seleccionado:e.onSeleccionado}}),a("b-field",{attrs:{label:"Pago inicial"}},[a("b-input",{attrs:{step:"any",icon:"currency-usd",type:"number",placeholder:"Cuánto deja el cliente",size:"is-medium"},on:{input:e.calcularRestante},model:{value:e.pagado,callback:function(t){e.pagado=t},expression:"pagado"}})],1),a("p",{staticClass:"is-size-1 has-text-weight-bold"},[e._v("Por Pagar $"+e._s(e.porPagar))])],1),a("footer",{staticClass:"modal-card-foot"},[a("b-button",{attrs:{label:"Cancelar","icon-left":"cancel",size:"is-medium"},on:{click:function(t){return e.$emit("close","cuenta")}}}),a("b-button",{attrs:{label:"Agregar a cuenta",type:"is-info","icon-left":"wallet-plus",size:"is-medium"},on:{click:e.agregarCuenta}})],1)])])},It=[],Tt={name:"DialogoAgregarCuenta",props:["totalVenta"],components:{BusquedaCliente:Et},data:()=>({pagado:"",porPagar:0,cliente:{}}),mounted(){this.calcularRestante()},methods:{onSeleccionado(e){this.cliente=e},calcularRestante(){this.porPagar=parseFloat(this.totalVenta-this.pagado)},agregarCuenta(){if(0===Object.keys(this.cliente).length)return void this.$buefy.toast.open({type:"is-danger",message:"Debes seleccionar un cliente."});let e={tipo:"cuenta",pagado:this.pagado,porPagar:this.porPagar,cliente:this.cliente};this.$emit("terminar",e)}}},Dt=Tt,Nt=(0,p.Z)(Dt,At,It,!1,null,null,null),Vt=Nt.exports,Rt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("form",{attrs:{action:""}},[a("div",{staticClass:"modal-card",staticStyle:{width:"600px"}},[a("header",{staticClass:"modal-card-head has-background-dark"},[a("p",{staticClass:"modal-card-title has-text-white"},[e._v("Agregar apartado")]),a("button",{staticClass:"delete",attrs:{type:"button"},on:{click:function(t){return e.$emit("close","apartado")}}})]),a("section",{staticClass:"modal-card-body"},[a("p",{staticClass:"is-size-1 has-text-weight-bold"},[e._v("Total $"+e._s(e.totalVenta))]),a("busqueda-cliente",{on:{seleccionado:e.onSeleccionado}}),a("b-field",{attrs:{label:"Pago inicial"}},[a("b-input",{attrs:{step:"any",icon:"currency-usd",type:"number",placeholder:"Cuánto deja el cliente",size:"is-medium"},on:{input:e.calcularRestante},model:{value:e.pagado,callback:function(t){e.pagado=t},expression:"pagado"}})],1),a("p",{staticClass:"is-size-1 has-text-weight-bold"},[e._v("Por Pagar $"+e._s(e.porPagar))])],1),a("footer",{staticClass:"modal-card-foot"},[a("b-button",{attrs:{label:"Cancelar","icon-left":"cancel",size:"is-medium"},on:{click:function(t){return e.$emit("close","apartado")}}}),a("b-button",{attrs:{label:"Agregar apartado",type:"is-dark","icon-left":"wallet-travel",size:"is-medium"},on:{click:e.agregarApartado}})],1)])])},qt=[],Ut={name:"DialogoAgregarApartado",props:["totalVenta"],components:{BusquedaCliente:Et},data:()=>({pagado:"",porPagar:0,cliente:{}}),mounted(){this.calcularRestante()},methods:{onSeleccionado(e){this.cliente=e},calcularRestante(){this.porPagar=parseFloat(this.totalVenta-this.pagado)},agregarApartado(){if(0===Object.keys(this.cliente).length)return void this.$buefy.toast.open({type:"is-danger",message:"Debes seleccionar un cliente."});let e={tipo:"apartado",pagado:this.pagado,porPagar:this.porPagar,cliente:this.cliente};this.$emit("terminar",e)}}},Ft=Ut,Zt=(0,p.Z)(Ft,Rt,qt,!1,null,null,null),Ot=Zt.exports,Gt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("form",{attrs:{action:""}},[a("div",{staticClass:"modal-card",staticStyle:{width:"600px"}},[a("header",{staticClass:"modal-card-head has-background-warning"},[a("p",{staticClass:"modal-card-title "},[e._v("Agregar cotizacion")]),a("button",{staticClass:"delete",attrs:{type:"button"},on:{click:function(t){return e.$emit("close","cotiza")}}})]),a("section",{staticClass:"modal-card-body"},[a("p",{staticClass:"is-size-1 has-text-weight-bold"},[e._v("Total $"+e._s(e.totalVenta))]),a("busqueda-cliente",{on:{seleccionado:e.onSeleccionado}})],1),a("footer",{staticClass:"modal-card-foot"},[a("b-button",{attrs:{label:"Cancelar","icon-left":"cancel",size:"is-medium"},on:{click:function(t){return e.$emit("close","cotiza")}}}),a("b-button",{attrs:{label:"Guardar cotización",type:"is-dark","icon-left":"ticket-outline",size:"is-medium"},on:{click:e.guardarCotizacion}})],1)])])},Lt=[],Bt={name:"DialogoCotizar",props:["totalVenta"],components:{BusquedaCliente:Et},data:()=>({cliente:{}}),methods:{onSeleccionado(e){this.cliente=e},guardarCotizacion(){if(0===Object.keys(this.cliente).length)return void this.$buefy.toast.open({type:"is-danger",message:"Debes seleccionar un cliente."});let e={tipo:"cotiza",cliente:this.cliente};this.$emit("terminar",e)}}},Jt=Bt,Qt=(0,p.Z)(Jt,Gt,Lt,!1,null,null,null),Ht=Qt.exports,Yt=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("section",[e.datosNegocio?o("div",{staticClass:"comprobante",attrs:{id:"comprobante"}},[o("p",[o("b",[e._v(e._s(e.titulo))])]),o("p",[e._v(e._s(e.datosNegocio.nombre)+" Teléfono: "+e._s(e.datosNegocio.telefono))]),o("img",{attrs:{src:e.datosNegocio.logo,alt:"Aqui el logo",width:"30"}}),o("p",[o("b",[e._v("Cliente:")]),e._v(e._s(e.venta.nombreCliente))]),o("p",[o("b",[e._v("Atiende:")]),e._v(e._s(e.venta.nombreUsuario))]),o("p",[o("b",[e._v("Fecha: ")]),e._v(e._s(e.venta.fecha))]),o("table",[e._m(0),o("tbody",e._l(e.venta.productos,(function(t,a){return o("tr",{key:a},[o("td",[e._v(e._s(t.nombre))]),o("td",[e._v("$"+e._s(t.precio)+" X "+e._s(t.cantidad))]),o("td",[e._v("$"+e._s(t.precio*t.cantidad))])])})),0)]),o("p",[o("b",[e._v("Total:")]),e._v("$"+e._s(e.venta.total))]),"cotiza"!==e.tipo?o("p",[o("b",[e._v("Su pago:")]),e._v("$"+e._s(e.venta.pagado))]):e._e(),"venta"===e.tipo?o("p",[o("b",[e._v("Cambio:")]),e._v("$"+e._s(e.venta.pagado-e.venta.total))]):e._e(),"cuenta"===e.tipo||"apartado"===e.tipo?o("p",[o("b",[e._v("Por pagar:")]),e._v("$"+e._s(e.venta.porPagar))]):e._e(),e._m(1),o("p",[e._v("----------------------------")]),o("p",[e._v("Sistema de ventas por")]),o("img",{attrs:{src:a(6949),width:"120"}})]):e._e()])},Wt=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("th",[e._v("Producto")]),a("th"),a("th",[e._v("Total")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("p",[a("b",[e._v("Gracias por su preferencia")])])}],Xt=a(8587),Kt={name:"ComprobanteCompra",props:["venta","tipo"],data:()=>({titulo:"",datosNegocio:null,cssText:"\n            .comprobante{\n                width: 250px;\n                font-family: monospace;\n                font-size: 14px;\n            }\n\n            .comprobante > p{\n                margin: 0!important;\n                padding: 0!important;\n                text-align: center;\n            }\n\n            .comprobante > img{\n                display: block;\n                margin: 0 auto;\n            }\n\n            .comprobante > th, td {\n              border-bottom: 1px solid #ddd;\n              font-size: 12px !important;\n              margin: 0!important;\n              padding: 0!important;\n            }\n        "}),beforeMount(){this.generarTitulo(),this.obtenerDatosNegocio()},mounted(){this.d=new Xt.ZP;const{contentWindow:e}=this.d.getIFrame();e.addEventListener("beforeprint",(()=>console.log("before print event!"))),e.addEventListener("afterprint",(()=>console.log("after print event!"))),this.imprimir()},methods:{generarTitulo(){switch(this.tipo){case"venta":this.titulo="COMPROBANTE DE COMPRA";break;case"cuenta":this.titulo="COMPROBANTE DE CUENTA";break;case"apartado":this.titulo="COMPROBANTE DE APARTADO";break;case"cotiza":this.titulo="COTIZACIÓN";break;default:this.titulo="COMPROBANTE"}},obtenerDatosNegocio(){this.datosNegocio=c.obtenerDatosNegocio(),this.datosNegocio.logo=ce.regresarRuta()+this.datosNegocio.logo},imprimir(){let e=document.getElementById("comprobante");setTimeout((()=>this.d.print(e,[this.cssText])),10),this.$emit("impreso",!1)}}},ea=Kt,ta=(0,p.Z)(ea,Yt,Wt,!1,null,"be24b7d8",null),aa=ta.exports,oa={name:"RealizarVenta",components:{BuscarProducto:mt,TablaProductos:Ct,DialogoTerminarVenta:Mt,DialogoAgregarCuenta:Vt,DialogoAgregarApartado:Ot,DialogoCotizar:Ht,MensajeInicial:O,ComprobanteCompra:aa},data:()=>({cargando:!1,productos:[],total:0,mostrarDialogo:!1,mostrarTerminarVenta:!1,mostrarAgregarCuenta:!1,mostrarAgregarApartado:!1,mostrarRegistrarCotizacion:!1,ventaRealizada:null,mostrarComprobante:!1,tipoVenta:""}),methods:{onImpreso(e){this.mostrarComprobante=e},onTerminar(e){this.ventaRealizada={total:this.total,productos:this.productos,cliente:e.cliente.id,usuario:c.obtenerDatosSesion().id,nombreCliente:e.cliente.nombre?e.cliente.nombre:"MOSTRADOR",nombreUsuario:c.obtenerDatosSesion().usuario,fecha:(new Date).toJSON().slice(0,10).replace(/-/g,"/")};let t=e.tipo;switch(t){case"venta":this.ventaRealizada.tipo="venta",this.ventaRealizada.pagado=e.pagado,this.ventaRealizada.cambio=e.cambio,console.log(this.ventaRealizada);break;case"cuenta":this.ventaRealizada.tipo="cuenta",this.ventaRealizada.pagado=e.pagado,this.ventaRealizada.porPagar=e.porPagar,console.log(this.ventaRealizada);break;case"apartado":this.ventaRealizada.tipo="apartado",this.ventaRealizada.pagado=e.pagado,this.ventaRealizada.porPagar=e.porPagar,console.log(this.ventaRealizada);break;case"cotiza":this.ventaRealizada.tipo="cotiza",console.log(this.ventaRealizada);break}this.tipoVenta=e.tipo,this.cargando=!0;let a={accion:"vender",datos:this.ventaRealizada};C.registrar("vender.php",a).then((e=>{console.log(e),e&&(this.productos=[],this.total=0,this.cargando=!1,this.mostrarTerminarVenta=this.mostrarAgregarCuenta=this.mostrarAgregarApartado=this.mostrarRegistrarCotizacion=!1,this.mostrarDialogo=!1,this.$buefy.toast.open({type:"is-info",message:t.toUpperCase()+" registrado con éxito"}),this.mostrarComprobante=!0)}))},cancelarVenta(){this.$buefy.dialog.confirm({title:"Cancelar venta",message:"¿Seguro que deseas cancelar la venta?",confirmText:"Sí, cancelar",cancelText:"No, continuar",type:"is-danger",hasIcon:!0,onConfirm:()=>{this.productos=[],this.total=0,this.$buefy.toast.open("Venta cancelada")}})},abrirDialogo(e){switch(this.mostrarDialogo=!0,e){case"venta":this.mostrarTerminarVenta=!0,this.mostrarAgregarCuenta=this.mostrarAgregarApartado=this.mostrarRegistrarCotizacion=!1;break;case"cuenta":this.mostrarAgregarCuenta=!0,this.mostrarTerminarVenta=this.mostrarAgregarApartado=this.mostrarRegistrarCotizacion=!1;break;case"apartado":this.mostrarAgregarApartado=!0,this.mostrarAgregarCuenta=this.mostrarTerminarVenta=this.mostrarRegistrarCotizacion=!1;break;case"cotiza":this.mostrarRegistrarCotizacion=!0,this.mostrarAgregarCuenta=this.mostrarTerminarVenta=this.mostrarAgregarApartado=!1;break}},onCerrar(e){this.mostrarDialogo=!1,"venta"!==e&&"cuenta"!==e&&"apartado"!==e&&"cotiza"!==e||(this.mostrarTerminarVenta=this.mostrarAgregarCuenta=this.mostrarAgregarApartado=this.mostrarRegistrarCotizacion=!1)},onQuitar(e){let t=this.productos.findIndex((t=>t.id===e));this.productos.splice(t,1),this.total=this.calcularTotal()},onAumentar(e){let t=this.verificarExistenciaAlcanzada(e.existencia,e.id);t||(e.vendidoMayoreo&&this.verificarMayoreo(e.cantidadMayoreo,e.id,e.precioMayoreo),this.total=this.calcularTotal())},onSeleccionado(e){let t=this.verificarExistenciaAlcanzada(e.existencia,e.id);if(t)return;console.log(e),e.vendidoMayoreo&&this.verificarMayoreo(e.cantidadMayoreo,e.id,e.precioMayoreo);let a=this.verificarSiEstaEnLista(e.id);if(a>=0)return this.aumentarCantidad(a),void(this.total=this.calcularTotal());this.agregarALista(e),this.total=this.calcularTotal()},agregarALista(e){this.productos.push({id:e.id,codigo:e.codigo,nombre:e.nombre,precio:e.precioVenta,cantidad:1,existencia:e.existencia,vendidoMayoreo:e.vendidoMayoreo,cantidadMayoreo:e.cantidadMayoreo,precioMayoreo:e.precioMayoreo,mayoreoAplicado:!1})},verificarExistenciaAlcanzada(e,t){let a=!1;return this.productos.forEach((o=>{o.id===t&&parseInt(o.cantidad)>=parseInt(e)&&(this.$buefy.toast.open({type:"is-danger",message:"El producto "+o.nombre+"ha alcanzado la existencia máxima. Solo tienes "+o.existencia}),o.cantidad=e,a=!0)})),a},verificarMayoreo(e,t,a){this.productos.forEach((o=>{o.mayoreoAplicado||o.id===t&&o.cantidad>=parseInt(e)&&this.$buefy.dialog.confirm({confirmText:"Sí, aplicar",cancelText:"No aplicar",message:"El producto "+o.nombre+" tiene mayoreo a partir de "+e+" piezas, ¿Desea aplicar el mayoreo?",onConfirm:()=>{o.precio=a,o.mayoreoAplicado=!0,this.$buefy.toast.open("Mayoreo aplicado correctamente a "+o.nombre)}})}))},verificarSiEstaEnLista(e){return this.productos.findIndex((t=>t.id===e))},aumentarCantidad(e){let t=this.productos,a=t[e];a.cantidad++,this.productos=t},calcularTotal(){let e=0;return this.productos.forEach((t=>{e=parseFloat(t.cantidad*t.precio)+parseFloat(e)})),e}}},ra=oa,sa=(0,p.Z)(ra,nt,it,!1,null,null,null),na=sa.exports,ia=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("p",{staticClass:"title is-1"},[e._v("Reporte de ventas")]),a("b-breadcrumb",{attrs:{align:"is-left"}},[a("b-breadcrumb-item",{attrs:{tag:"router-link",to:"/"}},[e._v("Inicio")]),a("b-breadcrumb-item",{attrs:{active:""}},[e._v("Ventas")])],1),a("busqueda-en-fecha",{on:{seleccionada:e.onBusquedaEnFecha}}),e.ventas.length<1?a("mensaje-inicial",{staticClass:"mt-2",attrs:{titulo:"No se han encontrado ventas :(",subtitulo:"Aquí aparecerán las ventas registradas"}}):e._e(),e.ventas.length>0?a("div",{staticClass:"mt-2"},[a("cartas-totales",{attrs:{totales:e.totalesGenerales}}),a("b-select",{model:{value:e.perPage,callback:function(t){e.perPage=t},expression:"perPage"}},[a("option",{attrs:{value:"5"}},[e._v("5 por página")]),a("option",{attrs:{value:"10"}},[e._v("10 por página")]),a("option",{attrs:{value:"15"}},[e._v("15 por página")]),a("option",{attrs:{value:"20"}},[e._v("20 por página")])]),a("b-table",{staticClass:"box",attrs:{data:e.ventas,paginated:e.isPaginated,"per-page":e.perPage,"current-page":e.currentPage,"pagination-simple":e.isPaginationSimple,"pagination-position":e.paginationPosition,"default-sort-direction":e.defaultSortDirection,"pagination-rounded":e.isPaginationRounded,"sort-icon":e.sortIcon,"sort-icon-size":e.sortIconSize,"default-sort":"user.first_name","aria-next-label":"Next page","aria-previous-label":"Previous page","aria-page-label":"Page","aria-current-label":"Current page"},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t}}},[a("b-table-column",{attrs:{field:"fecha",label:"Fecha",sortable:"",searchable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.fecha)+" ")]}}],null,!1,1839029428)}),a("b-table-column",{attrs:{field:"nombreCliente",label:"Cliente",sortable:"",searchable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.nombreCliente)+" ")]}}],null,!1,1401020376)}),a("b-table-column",{attrs:{field:"nombreUsuario",label:"Usuario",sortable:"",searchable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.nombreUsuario)+" ")]}}],null,!1,1942981314)}),a("b-table-column",{attrs:{field:"pagado",label:"Pago",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" $"+e._s(t.row.pagado)+" ")]}}],null,!1,3068680133)}),a("b-table-column",{attrs:{field:"Cambio",label:"Cambio",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" $"+e._s(t.row.pagado-t.row.total)+" ")]}}],null,!1,3671276910)}),a("b-table-column",{attrs:{field:"total",label:"Total",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("b",[e._v("$"+e._s(t.row.total))])]}}],null,!1,3737348549)}),a("b-table-column",{attrs:{field:"productos",label:"Productos",sortable:""},scopedSlots:e._u([{key:"default",fn:function(e){return[a("tabla-productos-vendidos",{attrs:{productos:e.row.productos}})]}}],null,!1,3066857836)}),a("b-table-column",{attrs:{field:"ticket",label:"Comprobante"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("b-button",{attrs:{type:"is-info","icon-left":"ticket-outline"},on:{click:function(a){return e.generarComprobante(t.row)}}},[e._v("Comprobante")])]}}],null,!1,2806756148)})],1)],1):e._e(),e.mostrarComprobante?a("comprobante-compra",{attrs:{venta:this.ventaSeleccionada,tipo:"venta"},on:{impreso:e.onImpreso}}):e._e(),a("b-loading",{attrs:{"is-full-page":!0,"can-cancel":!1},model:{value:e.cargando,callback:function(t){e.cargando=t},expression:"cargando"}})],1)},la=[],ca=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("b-field",{attrs:{label:"Selecciona un periodo"}},[a("b-datepicker",{attrs:{placeholder:"Click para seleccionar...",range:""},on:{input:e.onFechaSeleccionada},model:{value:e.fechasSeleccionadas,callback:function(t){e.fechasSeleccionadas=t},expression:"fechasSeleccionadas"}})],1)],1)},ua=[],da={name:"BusquedaEnFecha",data:()=>({fechasSeleccionadas:[]}),methods:{onFechaSeleccionada(){this.$emit("seleccionada",this.fechasSeleccionadas)}}},pa=da,ma=(0,p.Z)(pa,ca,ua,!1,null,null,null),ba=ma.exports,ga=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-table",{staticClass:"is-size-7",attrs:{data:e.productos}},[a("b-table-column",{attrs:{field:"nombre",label:"Nombre"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.nombre)+" ")]}}])}),a("b-table-column",{attrs:{field:"precio",label:"Precio"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" $"+e._s(t.row.precio)+" ")]}}])}),a("b-table-column",{attrs:{field:"cantidad",label:"Cantidad"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.cantidad)+" ")]}}])}),a("b-table-column",{attrs:{field:"subtotal",label:"Subtotal"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("b",[e._v("$"+e._s(t.row.precio*t.row.cantidad))])]}}])})],1)},ha=[],fa={name:"TablaProductosVendidos",props:["productos"]},va=fa,Ca=(0,p.Z)(va,ga,ha,!1,null,null,null),_a=Ca.exports,ya={name:"ReporteVentas",components:{BusquedaEnFecha:ba,TablaProductosVendidos:_a,MensajeInicial:O,CartasTotales:H,ComprobanteCompra:aa},data:()=>({filtros:{fechaInicio:"",fechaFin:""},cargando:!1,ventas:[],isPaginated:!0,isPaginationSimple:!1,isPaginationRounded:!0,paginationPosition:"bottom",defaultSortDirection:"asc",sortIcon:"arrow-up",sortIconSize:"is-medium",currentPage:1,perPage:5,totalesGenerales:[],mostrarComprobante:!1,ventaSeleccionada:null}),mounted(){this.obtenerVentas()},methods:{onImpreso(e){this.mostrarComprobante=e},generarComprobante(e){this.mostrarComprobante=!0,this.ventaSeleccionada=e},onBusquedaEnFecha(e){this.filtros.fechaInicio=e[0].toISOString().split("T")[0],this.filtros.fechaFin=e[1].toISOString().split("T")[0],this.obtenerVentas()},obtenerVentas(){this.cargando=!0;let e={filtros:this.filtros,accion:"obtener_ventas"};C.obtenerConConsultas("vender.php",e).then((e=>{this.ventas=e.ventas,this.totalesGenerales=[{nombre:"No. Ventas",total:this.ventas.length,icono:"cart",clase:"has-text-primary"},{nombre:"Total ventas",total:"$"+e.totalVentas,icono:"cash-fast",clase:"has-text-success"},{nombre:"Ganancia",total:"$"+ce.calcularTotalGanancia(this.ventas),icono:"currency-usd",clase:"has-text-info"},{nombre:"Productos vendidos",total:ce.calcularProductosVendidos(this.ventas),icono:"package-variant",clase:"has-text-danger"}],this.cargando=!1}))}}},ka=ya,xa=(0,p.Z)(ka,ia,la,!1,null,null,null),Sa=xa.exports,wa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("p",{staticClass:"title is-1"},[e._v("Reporte de cuentas")]),a("b-breadcrumb",{attrs:{align:"is-left"}},[a("b-breadcrumb-item",{attrs:{tag:"router-link",to:"/"}},[e._v("Inicio")]),a("b-breadcrumb-item",{attrs:{active:""}},[e._v("Cuentas")])],1),a("busqueda-en-fecha",{on:{seleccionada:e.onBusquedaEnFecha}}),e.cuentas.length<1?a("mensaje-inicial",{staticClass:"mt-2",attrs:{titulo:"No se han encontrado cuentas :(",subtitulo:"Aquí aparecerán las cuentas registradas"}}):e._e(),e.cuentas.length>0?a("div",{staticClass:"mt-2"},[a("cartas-totales",{attrs:{totales:e.totalesGenerales}}),a("tabla-cuentas-apartados",{attrs:{datos:e.cuentas},on:{abonar:e.onAbonar,liquidar:e.onLiquidar,imprimir:e.onGenerarComprobante}})],1):e._e(),e.mostrarComprobante?a("comprobante-compra",{attrs:{venta:this.cuentaSeleccionada,tipo:"cuenta"},on:{impreso:e.onImpreso}}):e._e(),a("b-loading",{attrs:{"is-full-page":!0,"can-cancel":!1},model:{value:e.cargando,callback:function(t){e.cargando=t},expression:"cargando"}})],1)},Pa=[],Ea=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("b-select",{model:{value:e.perPage,callback:function(t){e.perPage=t},expression:"perPage"}},[a("option",{attrs:{value:"5"}},[e._v("5 por página")]),a("option",{attrs:{value:"10"}},[e._v("10 por página")]),a("option",{attrs:{value:"15"}},[e._v("15 por página")]),a("option",{attrs:{value:"20"}},[e._v("20 por página")])]),a("b-table",{staticClass:"box",attrs:{data:e.datos,paginated:e.isPaginated,"per-page":e.perPage,"current-page":e.currentPage,"pagination-simple":e.isPaginationSimple,"pagination-position":e.paginationPosition,"default-sort-direction":e.defaultSortDirection,"pagination-rounded":e.isPaginationRounded,"sort-icon":e.sortIcon,"sort-icon-size":e.sortIconSize,"default-sort":"user.first_name","aria-next-label":"Next page","aria-previous-label":"Previous page","aria-page-label":"Page","aria-current-label":"Current page"},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t}}},[a("b-table-column",{attrs:{field:"fecha",label:"Fecha",sortable:"",searchable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.fecha)+" ")]}}])}),a("b-table-column",{attrs:{field:"nombreCliente",label:"Cliente",sortable:"",searchable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.nombreCliente)+" ")]}}])}),a("b-table-column",{attrs:{field:"nombreUsuario",label:"Usuario",sortable:"",searchable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.nombreUsuario)+" ")]}}])}),a("b-table-column",{attrs:{field:"pagado",label:"Pago",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticClass:"has-text-info has-text-weight-bold"},[e._v("$"+e._s(t.row.pagado))])]}}])}),a("b-table-column",{attrs:{field:"porPagar",label:"Por pagar",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticClass:"has-text-danger has-text-weight-bold"},[e._v(" $"+e._s(t.row.porPagar))])]}}])}),a("b-table-column",{attrs:{field:"total",label:"Total",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("b",[e._v("$"+e._s(t.row.total))])]}}])}),a("b-table-column",{attrs:{field:"productos",label:"Productos",sortable:""},scopedSlots:e._u([{key:"default",fn:function(e){return[a("tabla-productos-vendidos",{attrs:{productos:e.row.productos}})]}}])}),a("b-table-column",{attrs:{field:"estado",label:"Estado",sortable:"",searchable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.porPagar<1?a("span",{staticClass:"tag is-success is-large"},[e._v("LIQUIDADO")]):e._e(),t.row.porPagar>0?a("span",{staticClass:"tag is-danger is-large"},[e._v("PENDIENTE")]):e._e()]}}])}),a("b-table-column",{attrs:{field:"ticket",label:"Comprobante"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("b-button",{attrs:{type:"is-info"},on:{click:function(a){return e.generarComprobante(t.row)}}},[a("b-icon",{attrs:{icon:"ticket-outline"}})],1)]}}])}),a("b-table-column",{attrs:{field:"abonar",label:"Abonar"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.porPagar>0?a("b-button",{attrs:{type:"is-primary"},on:{click:function(a){return e.abonar(t.row)}}},[a("b-icon",{attrs:{icon:"wallet-plus"}})],1):e._e()]}}])}),a("b-table-column",{attrs:{field:"liquidar",label:"Liquidar"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.porPagar>0?a("b-button",{attrs:{type:"is-success"},on:{click:function(a){return e.liquidar(t.row)}}},[a("b-icon",{attrs:{icon:"check-underline-circle"}})],1):e._e()]}}])})],1)],1)},$a=[],ja={name:"TablaProductosApartados",props:["datos"],components:{TablaProductosVendidos:_a},data:()=>({isPaginated:!0,isPaginationSimple:!1,isPaginationRounded:!0,paginationPosition:"bottom",defaultSortDirection:"asc",sortIcon:"arrow-up",sortIconSize:"is-medium",currentPage:1,perPage:5}),methods:{generarComprobante(e){this.$emit("imprimir",e)},abonar(e){this.$emit("abonar",e)},liquidar(e){this.$emit("liquidar",e)}}},za=ja,Ma=(0,p.Z)(za,Ea,$a,!1,null,null,null),Aa=Ma.exports,Ia={name:"ReporteCuentas",components:{BusquedaEnFecha:ba,TablaCuentasApartados:Aa,MensajeInicial:O,CartasTotales:H,ComprobanteCompra:aa},data:()=>({filtros:{fechaInicio:"",fechaFin:""},cargando:!1,cuentas:[],totalesGenerales:[],cuentaSeleccionada:null,mostrarComprobante:!1}),mounted(){this.obtenerCuentas()},methods:{onImpreso(e){this.mostrarComprobante=e},onGenerarComprobante(e){this.cuentaSeleccionada=e,this.mostrarComprobante=!0},onLiquidar(e){this.$buefy.dialog.confirm({message:"¿Liquidar cuenta? El cliente debe pagar: $"+e.porPagar,cancelText:"Cancelar",confirmText:"Liquidar",onConfirm:()=>{this.cargando=!0,C.registrar("vender.php",{accion:"abonar",total:e.porPagar,id:e.id}).then((e=>{e&&(this.cargando=!1,this.$buefy.toast.open("Cuenta liquidada"),this.obtenerCuentas())}))}})},onAbonar(e){this.$buefy.dialog.prompt({message:"Escribe el total del abono. Restan: $"+e.porPagar,cancelText:"Cancelar",confirmText:"Abonar",inputAttrs:{type:"number",placeholder:"Abono",value:"",min:1,max:e.porPagar},trapFocus:!0,onConfirm:t=>{this.cargando=!0,C.registrar("vender.php",{accion:"abonar",total:t,id:e.id}).then((e=>{e&&(this.cargando=!1,this.$buefy.toast.open("Abono registrado"),this.obtenerCuentas())}))}})},onBusquedaEnFecha(e){this.filtros.fechaInicio=e[0].toISOString().split("T")[0],this.filtros.fechaFin=e[1].toISOString().split("T")[0],this.obtenerCuentas()},obtenerCuentas(){this.cargando=!0;let e={filtros:this.filtros,accion:"obtener_cuentas"};C.obtenerConConsultas("vender.php",e).then((e=>{this.cuentas=e.cuentas,this.totalesGenerales=[{nombre:"# Cuentas",total:this.cuentas.length,icono:"wallet",clase:"has-text-primary"},{nombre:"Total ",total:"$"+e.totalCuentas,icono:"cash-fast",clase:"has-text-success"},{nombre:"Por pagar",total:"$"+e.totalPorPagar,icono:"alert",clase:"has-text-danger"},{nombre:"Pagos",total:"$"+e.totalPagos,icono:"account-cash",clase:"has-text-grey-light"},{nombre:"# Productos",total:ce.calcularProductosVendidos(this.cuentas),icono:"package-variant",clase:"has-text-warning"},{nombre:"Ganancia",total:"$"+ce.calcularTotalGanancia(this.cuentas),icono:"currency-usd",clase:"has-text-info"}],this.cargando=!1}))}}},Ta=Ia,Da=(0,p.Z)(Ta,wa,Pa,!1,null,null,null),Na=Da.exports,Va=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("p",{staticClass:"title is-1"},[e._v("Reporte de apartados")]),a("b-breadcrumb",{attrs:{align:"is-left"}},[a("b-breadcrumb-item",{attrs:{tag:"router-link",to:"/"}},[e._v("Inicio")]),a("b-breadcrumb-item",{attrs:{active:""}},[e._v("Apartados")])],1),a("busqueda-en-fecha",{on:{seleccionada:e.onBusquedaEnFecha}}),e.apartados.length<1?a("mensaje-inicial",{staticClass:"mt-2",attrs:{titulo:"No se han encontrado apartados :(",subtitulo:"Aquí aparecerán los apartados registrados"}}):e._e(),e.apartados.length>0?a("div",{staticClass:"mt-2"},[a("cartas-totales",{attrs:{totales:e.totalesGenerales}}),a("tabla-cuentas-apartados",{attrs:{datos:e.apartados},on:{abonar:e.onAbonar,liquidar:e.onLiquidar,imprimir:e.onGenerarComprobante}})],1):e._e(),e.mostrarComprobante?a("comprobante-compra",{attrs:{venta:this.apartadoSeleccionado,tipo:"apartado"},on:{impreso:e.onImpreso}}):e._e(),a("b-loading",{attrs:{"is-full-page":!0,"can-cancel":!1},model:{value:e.cargando,callback:function(t){e.cargando=t},expression:"cargando"}})],1)},Ra=[],qa={name:"ReporteApartados",components:{BusquedaEnFecha:ba,TablaCuentasApartados:Aa,MensajeInicial:O,CartasTotales:H,ComprobanteCompra:aa},data:()=>({filtros:{fechaInicio:"",fechaFin:""},cargando:!1,apartados:[],totalesGenerales:[],apartadoSeleccionado:null,mostrarComprobante:!1}),mounted(){this.obtenerApartados()},methods:{onImpreso(e){this.mostrarComprobante=e},onGenerarComprobante(e){this.apartadoSeleccionado=e,this.mostrarComprobante=!0},onLiquidar(e){this.$buefy.dialog.confirm({message:"¿Liquidar apartado? El cliente debe pagar: $"+e.porPagar,cancelText:"Cancelar",confirmText:"Liquidar",onConfirm:()=>{this.cargando=!0,C.registrar("vender.php",{accion:"abonar",total:e.porPagar,id:e.id}).then((e=>{e&&(this.cargando=!1,this.$buefy.toast.open("Apartado liquidado"),this.obtenerApartados())}))}})},onAbonar(e){this.$buefy.dialog.prompt({message:"Escribe el total del abono. Restan: $"+e.porPagar,cancelText:"Cancelar",confirmText:"Abonar",inputAttrs:{type:"number",placeholder:"Abono",value:"",min:1,max:e.porPagar},trapFocus:!0,onConfirm:t=>{this.cargando=!0,C.registrar("vender.php",{accion:"abonar",total:t,id:e.id}).then((e=>{e&&(this.cargando=!1,this.$buefy.toast.open("Abono registrado"),this.obtenerApartados())}))}})},onBusquedaEnFecha(e){this.filtros.fechaInicio=e[0].toISOString().split("T")[0],this.filtros.fechaFin=e[1].toISOString().split("T")[0],this.obtenerApartados()},obtenerApartados(){this.cargando=!0;let e={filtros:this.filtros,accion:"obtener_apartados"};C.obtenerConConsultas("vender.php",e).then((e=>{this.apartados=e.apartados,this.totalesGenerales=[{nombre:"# Apartados",total:this.apartados.length,icono:"wallet-travel",clase:"has-text-primary"},{nombre:"Total ",total:"$"+e.totalApartados,icono:"cash-fast",clase:"has-text-success"},{nombre:"Por pagar",total:"$"+e.totalPorPagar,icono:"alert",clase:"has-text-danger"},{nombre:"Pagos",total:"$"+e.totalPagos,icono:"account-cash",clase:"has-text-grey-light"},{nombre:"# Productos",total:ce.calcularProductosVendidos(this.apartados),icono:"package-variant",clase:"has-text-warning"},{nombre:"Ganancia",total:"$"+ce.calcularTotalGanancia(this.apartados),icono:"currency-usd",clase:"has-text-info"}],this.cargando=!1}))}}},Ua=qa,Fa=(0,p.Z)(Ua,Va,Ra,!1,null,null,null),Za=Fa.exports,Oa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("p",{staticClass:"title is-1"},[e._v("Reporte de cotizaciones")]),a("b-breadcrumb",{attrs:{align:"is-left"}},[a("b-breadcrumb-item",{attrs:{tag:"router-link",to:"/"}},[e._v("Inicio")]),a("b-breadcrumb-item",{attrs:{active:""}},[e._v("Cotizaciones")])],1),a("busqueda-en-fecha",{on:{seleccionada:e.onBusquedaEnFecha}}),e.cotizaciones.length<1?a("mensaje-inicial",{staticClass:"mt-2",attrs:{titulo:"No se han encontrado cotizaciones :(",subtitulo:"Aquí aparecerán las cotizaciones registradas"}}):e._e(),e.cotizaciones.length>0?a("div",{staticClass:"mt-2"},[a("cartas-totales",{attrs:{totales:e.totalesGenerales}}),a("b-select",{model:{value:e.perPage,callback:function(t){e.perPage=t},expression:"perPage"}},[a("option",{attrs:{value:"5"}},[e._v("5 por página")]),a("option",{attrs:{value:"10"}},[e._v("10 por página")]),a("option",{attrs:{value:"15"}},[e._v("15 por página")]),a("option",{attrs:{value:"20"}},[e._v("20 por página")])]),a("b-table",{staticClass:"box",attrs:{data:e.cotizaciones,paginated:e.isPaginated,"per-page":e.perPage,"current-page":e.currentPage,"pagination-simple":e.isPaginationSimple,"pagination-position":e.paginationPosition,"default-sort-direction":e.defaultSortDirection,"pagination-rounded":e.isPaginationRounded,"sort-icon":e.sortIcon,"sort-icon-size":e.sortIconSize,"default-sort":"user.first_name","aria-next-label":"Next page","aria-previous-label":"Previous page","aria-page-label":"Page","aria-current-label":"Current page"},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t}}},[a("b-table-column",{attrs:{field:"fecha",label:"Fecha",sortable:"",searchable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.fecha)+" ")]}}],null,!1,1839029428)}),a("b-table-column",{attrs:{field:"nombreCliente",label:"Cliente",sortable:"",searchable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.nombreCliente)+" ")]}}],null,!1,1401020376)}),a("b-table-column",{attrs:{field:"nombreUsuario",label:"Usuario",sortable:"",searchable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.nombreUsuario)+" ")]}}],null,!1,1942981314)}),a("b-table-column",{attrs:{field:"total",label:"Total",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("b",[e._v("$"+e._s(t.row.total))])]}}],null,!1,3737348549)}),a("b-table-column",{attrs:{field:"productos",label:"Productos",sortable:""},scopedSlots:e._u([{key:"default",fn:function(e){return[a("tabla-productos-vendidos",{attrs:{productos:e.row.productos}})]}}],null,!1,3066857836)}),a("b-table-column",{attrs:{field:"ticket",label:"Comprobante"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("b-button",{attrs:{type:"is-info"},on:{click:function(a){return e.generarComprobante(t.row)}}},[a("b-icon",{attrs:{icon:"ticket-outline"}})],1)]}}],null,!1,1379246500)}),a("b-table-column",{attrs:{field:"eliminar",label:"Eliminar"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("b-button",{attrs:{type:"is-danger"},on:{click:function(a){return e.eliminar(t.row.id)}}},[a("b-icon",{attrs:{icon:"delete"}})],1)]}}],null,!1,608520963)})],1)],1):e._e(),e.mostrarComprobante?a("comprobante-compra",{attrs:{venta:this.cotizacionSeleccionada,tipo:"cotiza"},on:{impreso:e.onImpreso}}):e._e(),a("b-loading",{attrs:{"is-full-page":!0,"can-cancel":!1},model:{value:e.cargando,callback:function(t){e.cargando=t},expression:"cargando"}})],1)},Ga=[],La={name:"ReporteCotizaciones",components:{BusquedaEnFecha:ba,MensajeInicial:O,CartasTotales:H,TablaProductosVendidos:_a,ComprobanteCompra:aa},data:()=>({filtros:{fechaInicio:"",fechaFin:""},cargando:!1,cotizaciones:[],totalesGenerales:[],isPaginated:!0,isPaginationSimple:!1,isPaginationRounded:!0,paginationPosition:"bottom",defaultSortDirection:"asc",sortIcon:"arrow-up",sortIconSize:"is-medium",currentPage:1,perPage:5,cotizacionSeleccionada:null,mostrarComprobante:!1}),mounted(){this.obtenerCotizaciones()},methods:{onImpreso(e){this.mostrarComprobante=e},generarComprobante(e){this.cotizacionSeleccionada=e,this.mostrarComprobante=!0},eliminar(e){this.$buefy.dialog.confirm({title:"Eliminar cotización",message:"¿Seguro que deseas eliminar esta cotizacion?",confirmText:"Sí, eliminar",cancelText:"Cancelar",type:"is-danger",hasIcon:!0,onConfirm:()=>{this.cargando=!0,C.eliminar("vender.php",{accion:"eliminar_cotizacion",id:e}).then((e=>{e&&(this.cargando=!1,this.$buefy.toast.open("cotización eliminada"),this.obtenerCotizaciones())}))}})},onBusquedaEnFecha(e){this.filtros.fechaInicio=e[0].toISOString().split("T")[0],this.filtros.fechaFin=e[1].toISOString().split("T")[0],this.obtenerCotizaciones()},obtenerCotizaciones(){this.cargando=!0;let e={filtros:this.filtros,accion:"obtener_cotizaciones"};C.obtenerConConsultas("vender.php",e).then((e=>{this.cotizaciones=e.cotizaciones,this.totalesGenerales=[{nombre:"Cotizaciones registradas",total:this.cotizaciones.length,icono:"ticket-outline",clase:"has-text-primary"}],this.cargando=!1}))}}},Ba=La,Ja=(0,p.Z)(Ba,Oa,Ga,!1,null,null,null),Qa=Ja.exports,Ha=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("nav-component",{attrs:{titulo:"Clientes",link:{path:"/agregar-cliente"},texto:"Agregar cliente"}}),a("b-table",{attrs:{data:e.clientes}},[a("b-table-column",{attrs:{field:"nombre",label:"Nombre del cliente",sortable:"",searchable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.nombre)+" ")]}}])}),a("b-table-column",{attrs:{field:"telefono",label:"Teléfono",sortable:"",searchable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.telefono)+" ")]}}])}),a("b-table-column",{attrs:{field:"eliminar",label:"Eliminar"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("b-button",{attrs:{type:"is-danger","icon-left":"delete"},on:{click:function(a){return e.eliminar(t.row.id)}}},[e._v("Eliminar")])]}}])}),a("b-table-column",{attrs:{field:"editar",label:"Editar"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("b-button",{attrs:{type:"is-info","icon-left":"pen"},on:{click:function(a){return e.editar(t.row.id)}}},[e._v("Editar")])]}}])})],1),a("b-loading",{attrs:{"is-full-page":!0,"can-cancel":!1},model:{value:e.cargando,callback:function(t){e.cargando=t},expression:"cargando"}})],1)},Ya=[],Wa={name:"ClientesComponent",components:{NavComponent:V},data:()=>({cargando:!1,clientes:[]}),mounted(){this.obtenerClientes()},methods:{async eliminar(e){this.$buefy.dialog.confirm({title:"Eliminar cliente",message:"Seguro que quieres <b>eliminar</b> este cliente? Esta acción no se puede revertir.",confirmText:"Sí, eliminar",cancelText:"Cancelar",type:"is-danger",hasIcon:!0,onConfirm:()=>{this.cargando=!0,C.eliminar("clientes.php",{accion:"eliminar",id:e}).then((e=>{if(!e)return this.$buefy.toast.open("Error al eliminar"),void(this.cargando=!1);e&&(this.cargando=!1,this.$buefy.toast.open({type:"is-info",message:"Cliente eliminado."}),this.obtenerClientes())}))}})},editar(e){this.$router.push({name:"EditarCliente",params:{id:e}})},obtenerClientes(){this.cargando=!0;let e={accion:"obtener"};C.obtenerConConsultas("clientes.php",e).then((e=>{this.clientes=e,this.cargando=!1}))}}},Xa=Wa,Ka=(0,p.Z)(Xa,Ha,Ya,!1,null,null,null),eo=Ka.exports,to=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("p",{staticClass:"title is-1"},[e._v("Agregar cliente")]),a("b-breadcrumb",{attrs:{align:"is-left"}},[a("b-breadcrumb-item",{attrs:{tag:"router-link",to:"/"}},[e._v("Inicio")]),a("b-breadcrumb-item",{attrs:{tag:"router-link",to:"/cientes"}},[e._v("Clientes")]),a("b-breadcrumb-item",{attrs:{active:""}},[e._v("Agregar cliente")])],1),a("form-cliente",{attrs:{cliente:e.datosCliente},on:{registrar:e.onRegistrar}}),a("b-loading",{attrs:{"is-full-page":!0,"can-cancel":!1},model:{value:e.cargando,callback:function(t){e.cargando=t},expression:"cargando"}})],1)},ao=[],oo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("form",[a("b-field",{attrs:{label:"Nombre del cliente"}},[a("b-input",{attrs:{step:"any",icon:"account",type:"text",placeholder:"Ej. Don Paco"},model:{value:e.datosCliente.nombre,callback:function(t){e.$set(e.datosCliente,"nombre",t)},expression:"datosCliente.nombre"}})],1),a("b-field",{attrs:{label:"Teléfono del cliente"}},[a("b-input",{attrs:{step:"any",icon:"phone",type:"number",placeholder:"Ej. 2311459874"},model:{value:e.datosCliente.telefono,callback:function(t){e.$set(e.datosCliente,"telefono",t)},expression:"datosCliente.telefono"}})],1),a("div",{staticClass:"buttons has-text-centered"},[a("b-button",{attrs:{type:"is-primary",size:"is-large","icon-left":"check"},on:{click:e.registrar}},[e._v("Registrar")]),a("b-button",{attrs:{type:"is-dark",size:"is-large","icon-left":"cancel",tag:"router-link",to:"/clientes"}},[e._v("Cancelar")])],1),e.mensajesError.length>0?a("errores-component",{attrs:{errores:e.mensajesError}}):e._e()],1)},ro=[],so={name:"FormCliente",props:["cliente"],components:{ErroresComponent:ge},data:()=>({datosCliente:{nombre:"",telefono:""},mensajesError:[]}),mounted(){this.datosCliente=this.cliente},methods:{registrar(){this.mensajesError=ce.validarDatos(this.datosCliente),this.mensajesError.length>0||(this.$emit("registrar",this.datosCliente),this.datosCliente={nombre:"",telefono:""})}}},no=so,io=(0,p.Z)(no,oo,ro,!1,null,null,null),lo=io.exports,co={name:"AgregarCliente",components:{FormCliente:lo},data:()=>({cargando:!1,datosCliente:{nombre:"",telefono:""}}),methods:{onRegistrar(e){console.log(e),this.cargando=!0;let t={accion:"registrar",cliente:e};C.registrar("clientes.php",t).then((e=>{e&&(this.$buefy.toast.open({type:"is-info",message:"Cliente registrado con éxito."}),this.cargando=!1)}))}}},uo=co,po=(0,p.Z)(uo,to,ao,!1,null,null,null),mo=po.exports,bo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("h1",{staticClass:"title is-1"},[e._v("Editar cliente")]),a("b-breadcrumb",{attrs:{align:"is-left"}},[a("b-breadcrumb-item",{attrs:{tag:"router-link",to:"/"}},[e._v("Inicio")]),a("b-breadcrumb-item",{attrs:{tag:"router-link",to:"/cientes"}},[e._v("Clientes")]),a("b-breadcrumb-item",{attrs:{active:""}},[e._v("Editar cliente")])],1),e.datosCliente?a("form-cliente",{attrs:{cliente:e.datosCliente},on:{registrar:e.onEditar}}):e._e(),a("b-loading",{attrs:{"is-full-page":!0,"can-cancel":!1},model:{value:e.cargando,callback:function(t){e.cargando=t},expression:"cargando"}})],1)},go=[],ho={name:"EditaCliente",components:{FormCliente:lo},data:()=>({cargando:!1,datosCliente:null}),async mounted(){this.cargando=!0;const e=await C.obtenerConConsultas("clientes.php",{accion:"obtener_por_id",id:this.$route.params.id});this.datosCliente=e,this.cargando=!1},methods:{async onEditar(e){this.cargando=!0;const t=await C.editar("clientes.php",{accion:"editar",cliente:e});t&&(this.cargando=!1,this.$buefy.toast.open({type:"is-info",message:"Información de cliente actualizada con éxito."}),this.$router.push({name:"ClientesComponent"}))}}},fo=ho,vo=(0,p.Z)(fo,bo,go,!1,null,null,null),Co=vo.exports,_o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("nav-component",{attrs:{titulo:"Usuarios",link:{path:"/agregar-usuario"},texto:"Agregar usuario"}}),e.usuarios.length<1?a("mensaje-inicial",{attrs:{titulo:"No se han registrado usuarios",subtitulo:"Agrega algunos usuarios"}}):e._e(),a("b-table",{attrs:{data:e.usuarios}},[a("b-table-column",{attrs:{field:"usuario",label:"Nombre de usuario",sortable:"",searchable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.usuario)+" ")]}}])}),a("b-table-column",{attrs:{field:"nombre",label:"Nombre completo",sortable:"",searchable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.nombre)+" ")]}}])}),a("b-table-column",{attrs:{field:"telefono",label:"Teléfono",sortable:"",searchable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.telefono)+" ")]}}])}),a("b-table-column",{attrs:{field:"eliminar",label:"Eliminar"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("b-button",{attrs:{type:"is-danger","icon-left":"delete"},on:{click:function(a){return e.eliminar(t.row.id)}}},[e._v("Eliminar")])]}}])}),a("b-table-column",{attrs:{field:"editar",label:"Editar"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("b-button",{attrs:{type:"is-info","icon-left":"pen"},on:{click:function(a){return e.editar(t.row.id)}}},[e._v("Editar")])]}}])})],1),a("b-loading",{attrs:{"is-full-page":!0,"can-cancel":!1},model:{value:e.cargando,callback:function(t){e.cargando=t},expression:"cargando"}})],1)},yo=[],ko={name:"UsuariosComponent",components:{MensajeInicial:O,NavComponent:V},data:()=>({cargando:!1,usuarios:[]}),mounted(){this.obtenerUsuarios()},methods:{async eliminar(e){this.$buefy.dialog.confirm({title:"Eliminar usuario",message:"Seguro que quieres <b>eliminar</b> este usuario? Esta acción no se puede revertir.",confirmText:"Sí, eliminar",cancelText:"Cancelar",type:"is-danger",hasIcon:!0,onConfirm:()=>{this.cargando=!0,C.eliminar("usuarios.php",{accion:"eliminar",id:e}).then((e=>{if(!e)return this.$buefy.toast.open("Error al eliminar"),void(this.cargando=!1);e&&(this.cargando=!1,this.$buefy.toast.open({type:"is-info",message:"Usuario eliminado."}),this.obtenerUsuarios())}))}})},editar(e){this.$router.push({name:"EditarUsuario",params:{id:e}})},obtenerUsuarios(){this.cargando=!0;let e={accion:"obtener"};C.obtenerConConsultas("usuarios.php",e).then((e=>{this.usuarios=e,this.cargando=!1}))}}},xo=ko,So=(0,p.Z)(xo,_o,yo,!1,null,null,null),wo=So.exports,Po=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("p",{staticClass:"title is-1"},[e._v("Agregar usuario")]),a("b-breadcrumb",{attrs:{align:"is-left"}},[a("b-breadcrumb-item",{attrs:{tag:"router-link",to:"/"}},[e._v("Inicio")]),a("b-breadcrumb-item",{attrs:{tag:"router-link",to:"/usuarios"}},[e._v("Usuarios")]),a("b-breadcrumb-item",{attrs:{active:""}},[e._v("Agregar usuario")])],1),a("form-usuario",{attrs:{usuario:e.datosUsuario},on:{registrar:e.onRegistrar}}),a("b-loading",{attrs:{"is-full-page":!0,"can-cancel":!1},model:{value:e.cargando,callback:function(t){e.cargando=t},expression:"cargando"}})],1)},Eo=[],$o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("form",[a("b-field",{attrs:{label:"Nombre de usuario"}},[a("b-input",{attrs:{icon:"shield-account",type:"text",placeholder:"Ej. paco"},model:{value:e.datosUsuario.usuario,callback:function(t){e.$set(e.datosUsuario,"usuario",t)},expression:"datosUsuario.usuario"}})],1),a("b-field",{attrs:{label:"Nombre completo "}},[a("b-input",{attrs:{icon:"account",type:"text",placeholder:"Ej. Francisco Perez Tezcatlipoca"},model:{value:e.datosUsuario.nombre,callback:function(t){e.$set(e.datosUsuario,"nombre",t)},expression:"datosUsuario.nombre"}})],1),a("b-field",{attrs:{label:"Teléfono del usuario"}},[a("b-input",{attrs:{step:"any",icon:"phone",type:"number",placeholder:"Ej. 2311459874"},model:{value:e.datosUsuario.telefono,callback:function(t){e.$set(e.datosUsuario,"telefono",t)},expression:"datosUsuario.telefono"}})],1),a("div",{staticClass:"buttons has-text-centered"},[a("b-button",{attrs:{type:"is-primary",size:"is-large","icon-left":"check"},on:{click:e.registrar}},[e._v("Registrar")]),a("b-button",{attrs:{type:"is-dark",size:"is-large","icon-left":"cancel",tag:"router-link",to:"/usuarios"}},[e._v("Cancelar")])],1),e.mensajesError.length>0?a("errores-component",{attrs:{errores:e.mensajesError}}):e._e()],1)},jo=[],zo={name:"FormUsuario",props:["usuario"],components:{ErroresComponent:ge},data:()=>({datosUsuario:{usuario:"",nombre:"",telefono:""},mensajesError:[]}),mounted(){this.datosUsuario=this.usuario},methods:{registrar(){this.mensajesError=ce.validarDatos(this.datosUsuario),this.mensajesError.length>0||(this.$emit("registrar",this.datosUsuario),this.datosUsuario={usuario:"",nombre:"",telefono:""})}}},Mo=zo,Ao=(0,p.Z)(Mo,$o,jo,!1,null,null,null),Io=Ao.exports,To={name:"AgregarUsuario",components:{FormUsuario:Io},data:()=>({cargando:!1,datosUsuario:{usuario:"",nombre:"",telefono:""}}),methods:{onRegistrar(e){console.log(e),this.cargando=!0;let t={accion:"registrar",usuario:e};C.registrar("usuarios.php",t).then((e=>{e&&(this.cargando=!1,this.$buefy.toast.open({type:"is-info",message:"Usuario registrado con éxito. Recuerda que la contraseña es PacoHunterDev"}))}))}}},Do=To,No=(0,p.Z)(Do,Po,Eo,!1,null,null,null),Vo=No.exports,Ro=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("h1",{staticClass:"title is-1"},[e._v("Editar usuario")]),a("b-breadcrumb",{attrs:{align:"is-left"}},[a("b-breadcrumb-item",{attrs:{tag:"router-link",to:"/"}},[e._v("Inicio")]),a("b-breadcrumb-item",{attrs:{tag:"router-link",to:"/usuarios"}},[e._v("Usuarios")]),a("b-breadcrumb-item",{attrs:{active:""}},[e._v("Editar usuario")])],1),e.datosUsuario?a("form-usuario",{attrs:{usuario:e.datosUsuario},on:{registrar:e.onEditar}}):e._e(),a("b-loading",{attrs:{"is-full-page":!0,"can-cancel":!1},model:{value:e.cargando,callback:function(t){e.cargando=t},expression:"cargando"}})],1)},qo=[],Uo={name:"EditarUsuario",components:{FormUsuario:Io},data:()=>({datosUsuario:null,cargando:!1}),async mounted(){this.cargando=!0;const e=await C.obtenerConConsultas("usuarios.php",{accion:"obtener_por_id",id:this.$route.params.id});this.datosUsuario=e,this.cargando=!1},methods:{async onEditar(e){this.cargando=!0;const t=await C.editar("usuarios.php",{accion:"editar",usuario:e});t&&(this.cargando=!1,this.$buefy.toast.open({type:"is-info",message:"Información de usuario actualizada con éxito."}),this.$router.push({name:"UsuariosComponent"}))}}},Fo=Uo,Zo=(0,p.Z)(Fo,Ro,qo,!1,null,null,null),Oo=Zo.exports,Go=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("h1",{staticClass:"title is-1"},[e._v("Configuración general")]),a("b-breadcrumb",{attrs:{align:"is-left"}},[a("b-breadcrumb-item",{attrs:{tag:"router-link",to:"/"}},[e._v("Inicio")]),a("b-breadcrumb-item",{attrs:{acive:""}},[e._v("Configurar")])],1),e.datosNegocio?a("form-configuracion",{attrs:{datos:e.datosNegocio},on:{registrar:e.onRegistrar}}):e._e(),a("b-loading",{attrs:{"is-full-page":!0,"can-cancel":!1},model:{value:e.cargando,callback:function(t){e.cargando=t},expression:"cargando"}})],1)},Lo=[],Bo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("form",[a("b-field",{attrs:{label:"Nombre del negocio"}},[a("b-input",{attrs:{step:"any",icon:"store",type:"text",placeholder:"Ej. Tienda Doña Panque"},model:{value:e.datosNegocio.nombre,callback:function(t){e.$set(e.datosNegocio,"nombre",t)},expression:"datosNegocio.nombre"}})],1),a("b-field",{attrs:{label:"Teléfono"}},[a("b-input",{attrs:{step:"any",icon:"phone",type:"number",placeholder:"Ej. 2311459874"},model:{value:e.datosNegocio.telefono,callback:function(t){e.$set(e.datosNegocio,"telefono",t)},expression:"datosNegocio.telefono"}})],1),a("div",{staticClass:"field is-horizontal"},[a("div",{staticClass:"field-body"},[a("div",{staticClass:"file is-primary"},[a("label",{staticClass:"file-label"},[a("input",{ref:"fileInput",staticClass:"file-input",attrs:{type:"file",name:"resume"},on:{input:e.onFileChange}}),e._m(0)])])])]),a("img",{attrs:{src:e.urlImagen,width:"150",height:"200"}}),a("div",{staticClass:"buttons has-text-centered"},[a("b-button",{attrs:{type:"is-primary",size:"is-large","icon-left":"check"},on:{click:e.registrar}},[e._v("Registrar")]),a("b-button",{attrs:{type:"is-dark",size:"is-large","icon-left":"cancel",tag:"router-link",to:"/"}},[e._v("Cancelar")])],1),e.mensajesError.length>0?a("errores-component",{attrs:{errores:e.mensajesError}}):e._e()],1)},Jo=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"file-cta"},[a("span",{staticClass:"file-label"},[e._v(" Seleccionar logo ")])])}],Qo=(a(6699),{name:"FormConfiguracion",props:["datos"],components:{ErroresComponent:ge},data:()=>({datosNegocio:{nombre:"",telefono:""},urlImagen:null,mensajesError:[]}),mounted(){this.datosNegocio=this.datos,this.urlImagen=ce.regresarRuta()+this.datos.logo},methods:{onFileChange(){let e=this.$refs.fileInput,t=e.files;if(t&&t[0]){let e=new FileReader;e.onload=e=>{this.urlImagen=e.target.result},e.readAsDataURL(t[0]),this.$emit("input",t[0])}},registrar(){if(this.mensajesError=ce.validarDatos(this.datosNegocio),this.mensajesError.length>0)return;let e=this.urlImagen.includes("data:image");this.datosNegocio.logo=e?this.urlImagen:this.urlImagen.split("api")[1],this.datosNegocio.cambiaLogo=e,this.$emit("registrar",this.datosNegocio)}}}),Ho=Qo,Yo=(0,p.Z)(Ho,Bo,Jo,!1,null,null,null),Wo=Yo.exports,Xo={name:"ConfiguracionComponent",components:{FormConfiguracion:Wo},data:()=>({cargando:!1,datosNegocio:null}),mounted(){this.obtenerDatos()},methods:{onRegistrar(e){console.log(e),this.cargando=!0,C.registrar("ajustes.php",{accion:"registrar",ajustes:e}).then((e=>{e&&(this.cargando=!1,this.$buefy.toast.open({type:"is-info",message:"Información actualizada con éxito."}),this.obtenerDatos())}))},obtenerDatos(){this.cargando=!0,C.obtenerConConsultas("ajustes.php",{accion:"obtener"}).then((e=>{this.datosNegocio=e,this.cargando=!1}))}}},Ko=Xo,er=(0,p.Z)(Ko,Go,Lo,!1,null,null,null),tr=er.exports,ar=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("nav-component",{attrs:{titulo:e.nombreUsuario,link:{path:"/cambiar-password"},texto:"Cambiar contraseña"}}),a("cartas-totales",{attrs:{totales:e.ingresos}}),a("div",{staticClass:"box"},[a("p",{staticClass:"title is-4"},[e._v("Tus ventas por meses")]),a("select-anio",{attrs:{grafica:"1"},on:{seleccionado:e.busquedaAnio}}),e._m(0)],1)],1)},or=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"contenedor-meses"}},[a("canvas",{attrs:{id:"grafica-meses"}})])}],rr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-field",[a("b-select",{attrs:{placeholder:"Selecciona el año"},nativeOn:{change:function(t){return e.seleccionar.apply(null,arguments)}},model:{value:e.anioActual,callback:function(t){e.anioActual=t},expression:"anioActual"}},e._l(e.anios,(function(t){return a("option",{key:t,domProps:{value:t}},[e._v(" "+e._s(t)+" ")])})),0)],1)},sr=[],nr={name:"SelectAnio",props:["grafica"],data:()=>({anioActual:(new Date).getFullYear(),anios:[]}),mounted(){for(let e=2015;e<=this.anioActual;e++)this.anios.push(e)},methods:{seleccionar(){let e={noGrafica:this.grafica,anio:this.anioActual};this.$emit("seleccionado",e)}}},ir=nr,lr=(0,p.Z)(ir,rr,sr,!1,null,null,null),cr=lr.exports,ur={name:"PerfilComponent",components:{NavComponent:V,CartasTotales:H,SelectAnio:cr},data:()=>({nombreUsuario:"",ingresos:[],anioSeleccionado:(new Date).getFullYear(),totalesMeses:[]}),mounted(){this.nombreUsuario=localStorage.getItem("nombre"),this.obtenerIngresos(),this.obtenerTotalesMeses(this.anioSeleccionado)},methods:{busquedaAnio(e){this.obtenerTotalesMeses(e.anio)},obtenerTotalesMeses(e){C.obtenerConConsultas("perfil.php",{accion:"obtener_ventas",anioSeleccionado:e,idUsuario:localStorage.getItem("id")}).then((e=>{this.totalesMeses=ce.cambiarNumeroANombreMes(e),this.crearGraficaVentasMeses(this.totalesMeses)}))},crearGraficaVentasMeses(e){ce.generarGrafica("bar",e,"#contenedor-meses","#grafica-meses","grafica-meses")},obtenerIngresos(){C.obtenerConConsultas("perfil.php",{accion:"obtener_ingresos",idUsuario:localStorage.getItem("id")}).then((e=>{this.crearCartas(e)}))},crearCartas(e){this.ingresos=[{nombre:"Total ingresos",total:"$"+e.totalIngresos,icono:"currency-usd",clase:"has-text-success"},{nombre:"Ingresos hoy",total:"$"+e.ingresosHoy,icono:"calendar",clase:"has-text-primary"},{nombre:"Ingresos semana",total:"$"+e.ingresosSemana,icono:"calendar-range",clase:"has-text-info"},{nombre:"Ingresos mes",total:"$"+e.ingresosMes,icono:"calendar-month",clase:"has-text-dark"}]}}},dr=ur,pr=(0,p.Z)(dr,ar,or,!1,null,null,null),mr=pr.exports,br=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("b-field",{attrs:{label:"Escribe la contraseña actual"}},[a("b-input",{attrs:{type:"password",placeholder:"Contraseña actual","password-reveal":""},model:{value:e.password.passwordActual,callback:function(t){e.$set(e.password,"passwordActual",t)},expression:"password.passwordActual"}})],1),a("b-field",{attrs:{label:"Escribe la contraseña nueva",message:"Al menos un número, Al menos una mayúscula, Al menos una minúscula, Mínimo 8 caracteres"}},[a("b-input",{attrs:{type:"password",placeholder:"Contraseña nueva","password-reveal":""},model:{value:e.password.passwordNueva,callback:function(t){e.$set(e.password,"passwordNueva",t)},expression:"password.passwordNueva"}})],1),a("b-field",{attrs:{label:"Repite la nueva contraseña"}},[a("b-input",{attrs:{type:"password",placeholder:"Repite nueva contraseña","password-reveal":""},model:{value:e.password.passwordRepetida,callback:function(t){e.$set(e.password,"passwordRepetida",t)},expression:"password.passwordRepetida"}})],1),a("div",{staticClass:"buttons has-text-centered"},[a("b-button",{attrs:{type:"is-primary",size:"is-large","icon-left":"check"},on:{click:e.registrar}},[e._v("Cambiar contraseña")]),a("b-button",{attrs:{type:"is-dark",size:"is-large","icon-left":"cancel",tag:"router-link",to:"/perfil"}},[e._v("Cancelar")])],1),e.mensajesErrores.length>0?a("errores-component",{attrs:{errores:e.mensajesErrores}}):e._e(),a("b-loading",{attrs:{"is-full-page":!0,"can-cancel":!1},model:{value:e.cargando,callback:function(t){e.cargando=t},expression:"cargando"}})],1)},gr=[],hr={name:"CambiarPassword",components:{ErroresComponent:ge},data:()=>({password:{passwordActual:"",passwordNueva:"",passwordRepetida:""},mensajesErrores:[],cargando:!1}),methods:{async registrar(){this.mensajesErrores=[],this.mensajesErrores=ce.validarDatos(this.password);let e=await this.verificarPasswordActual();e||this.mensajesErrores.push("La contraseña actual ingresada es incorrecta"),this.password.passwordNueva!==this.password.passwordRepetida&&this.mensajesErrores.push("La contraseña repetida no coincide con la nueva");let t=this.validarPassword(this.password.passwordNueva);t||this.mensajesErrores.push("La contraseña nueva debe ser válida"),this.mensajesErrores.length>0||this.$buefy.dialog.confirm({message:"¿Seguro que deseas cambiar la contraseña?",confirmText:"Sí, cambiar",cancelText:"Cancelar",onConfirm:async()=>{this.cargando=!0;let e=await C.registrar("usuarios.php",{accion:"cambiar_password",idUsuario:c.obtenerDatosSesion().id,password:this.password.passwordRepetida});e&&(this.$buefy.toast.open("Contraseña actualizada"),this.cargando=!1),console.log(e)}})},async verificarPasswordActual(){let e={accion:"verificar_password",idUsuario:c.obtenerDatosSesion().id,password:this.password.passwordActual};return await C.obtenerConConsultas("usuarios.php",e)},validarPassword(e){var t=/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}/;return t.test(e)}}},fr=hr,vr=(0,p.Z)(fr,br,gr,!1,null,null,null),Cr=vr.exports,_r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("cartas-totales",{attrs:{totales:e.ingresos}}),a("div",{staticClass:"columns is-desktop"},[a("div",{staticClass:"column"},[a("div",{staticClass:"box"},[a("p",{staticClass:"title is-4"},[e._v("Ventas por meses")]),a("select-anio",{attrs:{grafica:"1"},on:{seleccionado:e.busquedaAnio}}),e._m(0)],1)]),a("div",{staticClass:"column"},[a("div",{staticClass:"box"},[a("p",{staticClass:"title is-4"},[e._v("Ventas por día")]),a("b-field",{attrs:{grouped:"","group-multiline":""}},[a("b-field",[a("select-mes",{on:{seleccionado:e.busquedaMes}})],1),a("b-field",[a("select-anio",{attrs:{grafica:"2"},on:{seleccionado:e.busquedaAnio}})],1)],1),e._m(1)],1)])]),e._m(2),e._m(3),a("div",{staticClass:"columns is-desktop"},[a("div",{staticClass:"column"},[a("div",{staticClass:"box"},[a("b-field",{staticClass:"is-pulled-right"},[a("b-select",{attrs:{placeholder:"Selecciona el limite"},nativeOn:{change:function(t){return e.seleccionarLimite.apply(null,arguments)}},model:{value:e.limite,callback:function(t){e.limite=t},expression:"limite"}},[a("option",{attrs:{value:"5"}},[e._v("5")]),a("option",{attrs:{value:"10"}},[e._v("10")]),a("option",{attrs:{value:"15"}},[e._v("15")]),a("option",{attrs:{value:"20"}},[e._v("20")])])],1),a("p",{staticClass:"title is-4"},[e._v("Productos más vendidos")]),a("b-table",{attrs:{data:e.productosMayoresVentas}},[a("b-table-column",{attrs:{field:"nombre",label:"Producto"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.nombre)+" ")]}}])}),a("b-table-column",{attrs:{field:"unidades",label:"Unidades vendidas"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.unidades)+" ")]}}])}),a("b-table-column",{attrs:{field:"total",label:"Total ventas"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" $"+e._s(t.row.total)+" ")]}}])}),a("b-table-column",{attrs:{field:"progreso",label:"Progreso"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("b-progress",{attrs:{type:e.generarColorPorcentaje(t.row.total),value:e.calcularPorcentajeProducto(t.row.total),"show-value":""}})]}}])})],1)],1)])])],1)},yr=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"contenedor-meses"}},[a("canvas",{attrs:{id:"grafica-meses"}})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"contenedor-dias"}},[a("canvas",{attrs:{id:"grafica-dias"}})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"columns is-desktop"},[a("div",{staticClass:"column"},[a("div",{staticClass:"box"},[a("p",{staticClass:"title is-4"},[e._v("Ventas por usuarios")]),a("div",{attrs:{id:"contenedor-usuarios"}},[a("canvas",{attrs:{id:"grafica-usuarios"}})])])]),a("div",{staticClass:"column"},[a("div",{staticClass:"box"},[a("p",{staticClass:"title is-4"},[e._v("Ventas por clientes")]),a("div",{attrs:{id:"contenedor-clientes"}},[a("canvas",{attrs:{id:"grafica-clientes"}})])])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"columns is-desktop"},[a("div",{staticClass:"column"},[a("div",{staticClass:"box"},[a("p",{staticClass:"title is-4"},[e._v("Ventas por categorías")]),a("div",{attrs:{id:"contenedor-categorias"}},[a("canvas",{attrs:{id:"grafica-categorias"}})])])]),a("div",{staticClass:"column"},[a("div",{staticClass:"box"},[a("p",{staticClass:"title is-4"},[e._v("Ventas por marcas")]),a("div",{attrs:{id:"contenedor-marcas"}},[a("canvas",{attrs:{id:"grafica-marcas"}})])])])])}],kr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-field",[a("b-select",{attrs:{placeholder:"Selecciona el mes"},nativeOn:{change:function(t){return e.seleccionar.apply(null,arguments)}},model:{value:e.mesActual,callback:function(t){e.mesActual=t},expression:"mesActual"}},e._l(e.meses,(function(t){return a("option",{key:t.numero,domProps:{value:t.numero}},[e._v(" "+e._s(t.mes)+" ")])})),0)],1)},xr=[],Sr={name:"SelectMes",data:()=>({mesActual:(new Date).getMonth()+1,meses:[{numero:1,mes:"Enero"},{numero:2,mes:"Febrero"},{numero:3,mes:"Marzo"},{numero:4,mes:"Abril"},{numero:5,mes:"Mayo"},{numero:6,mes:"Junio"},{numero:7,mes:"Julio"},{numero:8,mes:"Agosto"},{numero:9,mes:"Septiembre"},{numero:10,mes:"Octubre"},{numero:11,mes:"Noviembre"},{numero:12,mes:"Diciembre"}]}),methods:{seleccionar(){this.$emit("seleccionado",this.mesActual)}}},wr=Sr,Pr=(0,p.Z)(wr,kr,xr,!1,null,null,null),Er=Pr.exports,$r={name:"InicioComponent",components:{CartasTotales:H,SelectAnio:cr,SelectMes:Er},data:()=>({ingresos:[],totalesMeses:[],totalesUsuarios:[],totalesClientes:[],totalesDia:[],productosMayoresVentas:[],mesSeleccionado:(new Date).getMonth()+1,anioSeleccionado:(new Date).getFullYear(),limite:5}),mounted(){this.obtenerIngresos(),this.obtenerTotalesMeses(this.anioSeleccionado),this.obtenerTotalesUsuarios(),this.obtenerTotalesClientes(),this.obtenerTotalesDiaMes(this.mesSeleccionado,this.anioSeleccionado),this.obtenerProductosMayoresVentas(this.limite),this.obtenerMarcasCategorias()},methods:{seleccionarLimite(){this.obtenerProductosMayoresVentas(this.limite)},busquedaMes(e){this.mesSeleccionado=e,this.obtenerTotalesDiaMes(this.mesSeleccionado,this.anioSeleccionado)},busquedaAnio(e){switch(e.noGrafica){case"1":this.obtenerTotalesMeses(e.anio);break;case"2":this.anioSeleccionado=e.anio,this.obtenerTotalesDiaMes(this.mesSeleccionado,this.anioSeleccionado);break;default:console.log("No reconocido")}},generarColorPorcentaje(e){let t=this.calcularPorcentajeProducto(e);return t>=90?"is-success":t<90&&t>=80?"is-info":t<80&&t>=60?"is-warning":"is-danger"},calcularPorcentajeProducto(e){if(this.productosMayoresVentas.length>0){let t=this.productosMayoresVentas[0].total;return parseInt(100*e/t)}},obtenerIngresos(){C.obtenerConConsultas("inicio.php",{accion:"obtener_ingresos"}).then((e=>{this.crearCartas(e)}))},obtenerMarcasCategorias(){C.obtenerConConsultas("inicio.php",{accion:"obtener_marcas_categorias"}).then((e=>{this.crearGraficaVentasCategorias(e.categorias),this.crearGraficaVentasMarcas(e.marcas)}))},obtenerTotalesMeses(e){C.obtenerConConsultas("inicio.php",{accion:"obtener_totales_meses",anioSeleccionado:e}).then((e=>{this.totalesMeses=ce.cambiarNumeroANombreMes(e),this.crearGraficaVentasMeses(this.totalesMeses)}))},obtenerTotalesDiaMes(e,t){C.obtenerConConsultas("inicio.php",{accion:"obtener_totales_dia",mesSeleccionado:e,anioSeleccionado:t}).then((e=>{this.totalesDia=e,this.crearGraficaVentasDiasMes(this.totalesDia)}))},obtenerTotalesUsuarios(){C.obtenerConConsultas("inicio.php",{accion:"obtener_totales_usuarios"}).then((e=>{this.totalesUsuarios=e,this.crearGraficaVentasUsuarios(this.totalesUsuarios)}))},obtenerTotalesClientes(){C.obtenerConConsultas("inicio.php",{accion:"obtener_totales_clientes"}).then((e=>{this.totalesClientes=e,this.crearGraficaVentasClientes(this.totalesClientes)}))},obtenerProductosMayoresVentas(e){C.obtenerConConsultas("inicio.php",{accion:"obtener_productos_mayores",limite:e}).then((e=>{this.productosMayoresVentas=e}))},crearCartas(e){this.ingresos=[{nombre:"Total ingresos",total:"$"+e.totalIngresos,icono:"currency-usd",clase:"has-text-success"},{nombre:"Ingresos hoy",total:"$"+e.ingresosHoy,icono:"calendar",clase:"has-text-primary"},{nombre:"Ingresos semana",total:"$"+e.ingresosSemana,icono:"calendar-range",clase:"has-text-info"},{nombre:"Ingresos mes",total:"$"+e.ingresosMes,icono:"calendar-month",clase:"has-text-dark"},{nombre:"Ingresos pendientes",total:"$"+e.ingresosPendientes,icono:"alert",clase:"has-text-danger"}]},crearGraficaVentasMeses(e){ce.generarGrafica("bar",e,"#contenedor-meses","#grafica-meses","grafica-meses")},crearGraficaVentasUsuarios(e){ce.generarGrafica("pie",e,"#contenedor-usuarios","#grafica-usuarios","grafica-usuarios")},crearGraficaVentasClientes(e){ce.generarGrafica("pie",e,"#contenedor-clientes","#grafica-clientes","grafica-clientes")},crearGraficaVentasDiasMes(e){ce.generarGrafica("bar",e,"#contenedor-dias","#grafica-dias","grafica-dias")},crearGraficaVentasCategorias(e){ce.generarGrafica("line",e,"#contenedor-categorias","#grafica-categorias","grafica-categorias")},crearGraficaVentasMarcas(e){ce.generarGrafica("line",e,"#contenedor-marcas","#grafica-marcas","grafica-marcas")}}},jr=$r,zr=(0,p.Z)(jr,_r,yr,!1,null,null,null),Mr=zr.exports;o.Z.use(j.Z);const Ar=[{path:"/",name:"InicioComponent",component:Mr},{path:"/inventario",name:"ProductosComponent",component:K},{path:"/agregar-producto",name:"AgregarProducto",component:xe},{path:"/editar-producto/:id",name:"EditarProducto",component:je},{path:"/marcas-y-categorias",name:"MarcasCategorias",component:st},{path:"/realizar-venta",name:"RealizarVenta",component:na},{path:"/reporte-ventas",name:"ReporteVentas",component:Sa},{path:"/reporte-cuentas",name:"ReporteCuentas",component:Na},{path:"/reporte-apartados",name:"ReporteApartados",component:Za},{path:"/reporte-cotizaciones",name:"ReporteCotizaciones",component:Qa},{path:"/clientes",name:"ClientesComponent",component:eo},{path:"/agregar-cliente",name:"AgregarCliente",component:mo},{path:"/editar-cliente/:id",name:"EditarCliente",component:Co},{path:"/usuarios",name:"UsuariosComponent",component:wo},{path:"/agregar-usuario",name:"AgregarUsuario",component:Vo},{path:"/editar-usuario/:id",name:"EditarUsuario",component:Oo},{path:"/configurar",name:"ConfiguracionComponent",component:tr},{path:"/perfil",name:"PerfilComponent",component:mr},{path:"/cambiar-password",name:"CambiarPassword",component:Cr}],Ir=new j.Z({routes:Ar});var Tr=Ir;o.Z.use($.ZP),o.Z.config.productionTip=!1,new o.Z({router:Tr,render:e=>e(E)}).$mount("#app")},6949:function(e,t,a){"use strict";e.exports=a.p+"./pos/dist/img/logo.218115e9.png"}},t={};function a(o){var r=t[o];if(void 0!==r)return r.exports;var s=t[o]={id:o,loaded:!1,exports:{}};return e[o].call(s.exports,s,s.exports,a),s.loaded=!0,s.exports}a.m=e,function(){var e=[];a.O=function(t,o,r,s){if(!o){var n=1/0;for(u=0;u<e.length;u++){o=e[u][0],r=e[u][1],s=e[u][2];for(var i=!0,l=0;l<o.length;l++)(!1&s||n>=s)&&Object.keys(a.O).every((function(e){return a.O[e](o[l])}))?o.splice(l--,1):(i=!1,s<n&&(n=s));if(i){e.splice(u--,1);var c=r();void 0!==c&&(t=c)}}return t}s=s||0;for(var u=e.length;u>0&&e[u-1][2]>s;u--)e[u]=e[u-1];e[u]=[o,r,s]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var o in t)a.o(t,o)&&!a.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){a.p="/"}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,o){var r,s,n=o[0],i=o[1],l=o[2],c=0;if(n.some((function(t){return 0!==e[t]}))){for(r in i)a.o(i,r)&&(a.m[r]=i[r]);if(l)var u=l(a)}for(t&&t(o);c<n.length;c++)s=n[c],a.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return a.O(u)},o=self["webpackChunkpos"]=self["webpackChunkpos"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=a.O(void 0,[998],(function(){return a(6886)}));o=a.O(o)})();
//# sourceMappingURL=app.ba81f492.js.map